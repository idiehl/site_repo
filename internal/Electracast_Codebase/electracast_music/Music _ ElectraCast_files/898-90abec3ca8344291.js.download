try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="2848980a-1858-4659-9ed6-40956dec84ef",e._sentryDebugIdIdentifier="sentry-dbid-2848980a-1858-4659-9ed6-40956dec84ef")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[898],{927:(e,t,n)=>{"use strict";let i;n.d(t,{n:()=>k});var a=n(82536),r=n(23883),s=n(92976),o=n(93629),l=n(75410),d=n.n(l),u=n(83331),c=n(57953);let p=n.n(c)()(u.fetch);async function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4,i=new(d()),r=i.signal,l=setTimeout(()=>i.abort(),n);return(t&&void 0!==t.retries&&t.retries>0?p:(0,u.fetch))(e,(0,o._)((0,a._)({},t),{signal:r})).then(e=>(clearTimeout(l),e)).catch(i=>{if("AbortError"===i.name){var a;throw new s.JO({timeout:n,url:e,method:null!=(a=null==t?void 0:t.method)?a:"get"})}throw clearTimeout(l),i})}class _{withQueryParameters(e){this.queryParameters=e}withResponseType(e){this.responseType=e}withPostData(e){this.postData=e}withRetries(e){let{retries:t,retryOn:n,retryDelay:i}=e;this._retryOptions={retries:t,retryDelay:i,retryOn:n}}addHeader(e,t){return this._headers[e]=t,this}includeCredentials(){return this._includeCredentials=!0,this}async send(){var e,t;let n;if(this.postData){n=(null==(e=this._headers["Content-Type"])?void 0:e.startsWith("application/json;charset=UTF-8"))?JSON.stringify(this.postData):this.postData}let i=new URLSearchParams(this.queryParameters).toString();return m("".concat(this.url).concat(i?"?".concat(i):""),(0,a._)({method:this.method,body:n,credentials:this._includeCredentials?"include":void 0,headers:(0,a._)({"Content-Type":"text"===(t=this.responseType)?"text/plain":"arraybuffer"===t?"application/octet-stream":"application/json"},this._headers)},this._retryOptions)).then(async e=>{if(!e.ok){let t=s.O.fromResponse(e,this.method||"GET");throw(0,r.oy)(t,new URL(this.url).hostname),t}return{body:"text"===this.responseType?await e.text():"arraybuffer"===this.responseType?await e.arrayBuffer():await e.json(),status:e.status}}).catch(e=>{throw e})}constructor(e,t){return this.method=e,this.url=t,this.postData=null,this.queryParameters=void 0,this.responseType="json",this._retryOptions=null,this._headers={},this._includeCredentials=!1,this}}class v{static setRequestImplementation(e){i=e}getRequestImplementation(){return i}set accessToken(e){this._accessToken=e}get market(){return this._market}set market(e){this._market=e}get locale(){return this._locale}set locale(e){this._locale=e}get globalRequestHeaders(){return this._globalRequestHeaders}set globalRequestHeaders(e){this._globalRequestHeaders=e}get startTimestamp(){return this._startTimestamp}get host(){return this._host}get method(){return this._method}get endpointIdentifier(){return this._endpointIdentifier}withHost(e){return this._host=e,this}withPath(e){return this.path=e,this}withResponseType(e){return this.responseType=e,this}withEndpointIdentifier(e){return this._endpointIdentifier=e,this}withQueryParameters(e){return this.queryParameters=e,this}withBody(e){return this.body=e,this}withMethod(e){return this._method=e,this}withRetries(e){let{retries:t,retryOn:n,retryDelay:i}=e;return this._retryCount=t,n&&(this._retryStatusCodes=n),i&&(this._retryDelay=i),this}withoutMarket(){return this._shouldSendMarket=!1,this}withoutGlobalHeaders(){return this._shouldSendGlobalHeaders=!1,this}withoutAuthorization(){return this._shouldSendAuthorization=!1,this}withLocale(e){return this._shouldSendLocale=!0,e&&(this._locale=e),this}withJsonContentType(){return this.jsonContentType=!0,this}withHeaders(e){return this._headers=e,this}withCredentials(){return this._includeCredentials=!0,this}onBeforeSend(e){}onAfterSend(e){}async send(){let e=new i(this.method,"".concat(this._host).concat(this.path));this._shouldSendMarket&&this.market&&(this.queryParameters=(0,o._)((0,a._)({},this.queryParameters),{market:this.market})),this._shouldSendLocale&&this.locale&&(this.queryParameters=(0,o._)((0,a._)({},this.queryParameters),{locale:this.locale})),this.locale&&e.addHeader("Accept-Language",this.locale),this._retryCount&&e.withRetries({retries:this._retryCount,retryOn:this._retryStatusCodes,retryDelay:this._retryDelay}),e.withQueryParameters(this.queryParameters),e.withResponseType(this.responseType),this._shouldSendAuthorization&&this._accessToken&&e.addHeader("Authorization","Bearer ".concat(this._accessToken)),e.addHeader("Accept","application/json"),this._includeCredentials&&e.includeCredentials(),this._shouldSendGlobalHeaders&&this._globalRequestHeaders.length>0&&this._globalRequestHeaders.forEach(t=>{let[n,i]=t;e.addHeader(n,i)});for(let t=0;t<this._headers.length;t++){let n=this._headers[t];e.addHeader(n.key,n.value)}this.jsonContentType&&e.addHeader("Content-Type","application/json;charset=UTF-8"),this.body&&e.withPostData(this.body);try{this.onBeforeSend(e)}catch(e){return Promise.reject(e)}return this._startTimestamp=Date.now(),e.send().then(e=>(this.onAfterSend(),e)).catch(e=>{throw this.onAfterSend(e),e})}constructor(){this._accessToken=null,this._market="",this._headers=[],this._globalRequestHeaders=[],this._shouldSendMarket=!0,this._shouldSendGlobalHeaders=!0,this._locale=null,this._retryStatusCodes=[503],this._retryDelay=1e3,this._shouldSendLocale=!1,this._shouldSendAuthorization=!0,this._host="",this.path="",this.responseType="json",this.queryParameters=void 0,this._method="GET",this.jsonContentType=!1,this.body=null,this._endpointIdentifier=null,this._startTimestamp=null,this._includeCredentials=!1}}class y{get accessToken(){return this._accessToken}set accessToken(e){this._accessToken=e}get globalRequestHeaders(){return this._globalRequestHeaders}set globalRequestHeaders(e){this._globalRequestHeaders=e}get market(){return this._market}set market(e){this._market=e}get locale(){return this._locale}set locale(e){this._locale=e}resetPendingRequests(){}build(){v.setRequestImplementation(this._RequestImplementation);let e=new v;return e.accessToken=this._accessToken,e.market=this.market,e.locale=this.locale,e.globalRequestHeaders=this.globalRequestHeaders,e}constructor(e){this._accessToken=null,this._market="",this._locale="",this._globalRequestHeaders=[],this._RequestImplementation=e}}let h=null;class k{static setSession(e){if(!e)return;let{accessToken:t}=e,n=this.getInstance();n.accessToken=t,t||n.resetPendingRequests()}static setLocale(e){this.getInstance().locale=e}static setGlobalRequestHeaders(e){this.getInstance().globalRequestHeaders=e}static setMarket(e){this.getInstance().market=e}static resetInstance(){h=null}static getInstance(){return h||(h=this.createNew()),h}static createNew(){return new y(_)}}},1671:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let i=e=>e<10?"0".concat(e):"".concat(e),a=e=>{let t=Math.abs(e),n=Math.floor(t/36e5),a=Math.floor(t%36e5/6e4)||0,r=Math.floor(t%6e4/1e3)||0,s=i(a),o=i(r),l=[n?"".concat(n):"",s,o].filter(e=>e).join(":");return"".concat(e<0?"-":"").concat(l)}},1821:(e,t,n)=>{"use strict";n.d(t,{$Z:()=>a,$c:()=>i});var i=function(e){return e.AgeRestricted="AGE_RESTRICTED",e.AgeUntrusted="AGE_UNTRUSTED",e.CatalogueRestricted="CATALOGUE_RESTRICTED",e.CountryRestricted="COUNTRY_RESTRICTED",e.Explicit="EXPLICIT",e.Hidden="HIDDEN",e.PaymentRequired="PAYMENT_REQUIRED",e.Playable="PLAYABLE",e.Unavailable="UNAVAILABLE",e.Unknown="UNKNOWN",e}({}),a=function(e){return e.AfterUri="AFTER_URI",e.BeforeUri="BEFORE_URI",e.BottomOfRootlist="BOTTOM_OF_ROOTLIST",e.TopOfRootlist="TOP_OF_ROOTLIST",e}({})},1874:(e,t,n)=>{"use strict";let i;n.d(t,{E:()=>r,i:()=>a});let a=()=>{if(!i)throw Error("Config data not set");return i},r=e=>{i=e}},7561:(e,t,n)=>{"use strict";n.d(t,{g:()=>a});var i=n(61013);let a=()=>!!(0,i.d4)(e=>{var t;return null==(t=e.data.entity)?void 0:t.visualIdentity})},8736:e=>{e.exports={upsellContentContainer:"Upsell_upsellContentContainer__xjlbk",transition_enter:"Upsell_transition_enter__1J8pP",transition_enterActive:"Upsell_transition_enterActive__7oD__",transition_exit:"Upsell_transition_exit__gTMji",transition_exitActive:"Upsell_transition_exitActive__MLvE3"}},9088:e=>{e.exports={coverArt:"CoverArtBase_coverArt__ne0XI"}},9228:e=>{e.exports={fullscreenWrapper:"UpsellContent_fullscreenWrapper__yafMY",transition_enter:"UpsellContent_transition_enter__SPRuw",transition_enterActive:"UpsellContent_transition_enterActive__HOboE",transition_exit:"UpsellContent_transition_exit__r7VXK",transition_exitActive:"UpsellContent_transition_exitActive__dhScU",footerWrapper:"UpsellContent_footerWrapper__M_dNe",coverArtWrapper:"UpsellContent_coverArtWrapper__O1I7x",ctaWrapper:"UpsellContent_ctaWrapper___t9Gy",closeButton:"UpsellContent_closeButton__Rxr0B",content:"UpsellContent_content__YTOSs",metadataWrapper:"UpsellContent_metadataWrapper__iSJfD",labelsAndSubtitle:"UpsellContent_labelsAndSubtitle__2mVsp",playerControlsWrapper:"UpsellContent_playerControlsWrapper__HdcB9",coverArtUpsell:"UpsellContent_coverArtUpsell__bAFhO",playlistContainer:"UpsellContent_playlistContainer__ittRM"}},9935:(e,t,n)=>{"use strict";n.d(t,{F:()=>r});var i=n(51580),a=n.n(i);function r(){let e=a().getParser(window.navigator.userAgent),t=function(e){switch(e){case"macOS":return"osx";case"Chrome OS":return"chrome";default:return e}}(e.getOSName()||"not_applicable"),n=function(e,t){if("Windows"===e)switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return""}return t}(t,e.getOSVersion());return{osName:t,osVersion:n,browserName:e.getBrowserName(),browserVersion:e.getBrowserVersion()}}},10020:e=>{e.exports={text:"UpsellTitle_text__28Mv1"}},10231:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});let i="https://open.spotify.com"},10767:(e,t,n)=>{"use strict";n.d(t,{H:()=>s});var i=n(82536),a=n(93629);let r=e=>e?"rgba(".concat(e.red,", ").concat(e.green,", ").concat(e.blue,", ").concat(e.alpha,")"):null,s=e=>e?(e=>({"--dynamic-opacity":e.opacity,"--dynamic-background-base":e.backgroundBase,"--dynamic-background-tinted":e.backgroundTinted,"--dynamic-background-tinted-50":e.backgroundTinted50,"--background-base":e.backgroundBase,"--background-tinted":e.backgroundTinted,"--text-base":e.textBase,"--text-bright-accent":e.textBrightAccent,"--text-subdued":e.textSubdued}))({backgroundBase:r(null==e?void 0:e.backgroundBase),backgroundTinted:r(null==e?void 0:e.backgroundTintedBase),backgroundTinted50:r((null==e?void 0:e.backgroundTintedBase)?(0,a._)((0,i._)({},e.backgroundTintedBase),{alpha:.5}):null),textBase:r(null==e?void 0:e.textBase),textBrightAccent:r(null==e?void 0:e.textBrightAccent),textSubdued:r(null==e?void 0:e.textSubdued),opacity:e?"1":null}):{}},11100:(e,t,n)=>{"use strict";n.d(t,{L:()=>i,b:()=>a});var i=function(e){return e.UNKNOWN="unknown",e.FULL="full-playback",e.PREVIEW="preview-playback",e}({});let a="SET_PLAYBACK_MODE"},11339:e=>{e.exports={progressBarContainer:"ProgressBar_progressBarContainer__glVHh",progressBarLineActive:"ProgressBar_progressBarLineActive__eawR7",progressBarLineBackground:"ProgressBar_progressBarLineBackground__S9lxG",progressBarLine:"ProgressBar_progressBarLine__a7FZb",progressBarSlider:"ProgressBar_progressBarSlider__oFBQJ",visible:"ProgressBar_visible__kkOqc",tooltip:"ProgressBar_tooltip__E8aUa",tooltipContainer:"ProgressBar_tooltipContainer__GjrK3"}},11377:(e,t,n)=>{"use strict";n.d(t,{Fv:()=>r,iG:()=>i,tx:()=>a});let i="CLOSE_OVERFLOW_MENU",a="SHOW_OVERFLOW_MENU",r="PLAY_ON_SPOTIFY_CLICK"},12075:e=>{e.exports={circularContainer:"PreviewPlayButton_circularContainer__IPZte",circularInner:"PreviewPlayButton_circularInner___9inH",rangeBarRight:"PreviewPlayButton_rangeBarRight__7U2dx",rangeBarLeft:"PreviewPlayButton_rangeBarLeft__QqPAO",rangeBarProgress:"PreviewPlayButton_rangeBarProgress__m16Uz"}},13359:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=function(e){return e.AR="،\xa0",e.FA="،\xa0",e.EN=",\xa0",e}(i||{});let a=e=>{switch(e){case"ar":case"fa":return"،\xa0";default:return",\xa0"}}},13965:(e,t,n)=>{"use strict";n.d(t,{G:()=>_});var i=n(53108),a=n(55443),r=n(80921),s=n(26935),o=n(46001),l=n.n(o),d=n(64312),u=n(61013);let c=e=>{let t=new Date;return new Date(e).getTime()-t.getTime()};var p=n(82727),m=n.n(p);let _=e=>{let{visibleCells:t,onCountDownEnds:n}=e,o=(0,u.d4)(e=>{var t;return null==(t=e.data.entity)?void 0:t.releaseDate}),{days:p,hours:_,minutes:v,seconds:y}=(e=>{let{releaseDate:t,onCountDownEnds:n}=e,[i,a]=(0,d.useState)(0);return(0,d.useEffect)(()=>{a(c(t))},[t]),(0,d.useEffect)(()=>{let e=setInterval(()=>{let i=c(t);i<=0?(null==n||n(),clearInterval(e)):a(i)},1e3);return()=>clearInterval(e)},[t,n]),(e=>e<=0?{days:"00",hours:"00",minutes:"00",seconds:"00"}:{days:Math.floor(e/864e5).toString(),hours:Math.floor(e/36e5%24).toString(),minutes:Math.floor(e/6e4%60).toString(),seconds:Math.floor(e/1e3%60).toString()})(i)})({releaseDate:(null==o?void 0:o.isoString)||"",onCountDownEnds:n}),h=(0,s.kj)(),k="0"!==p,f="0"!==_,b="0"!==v,g="0"!==y,E=[],S=(E=1===t?k?["days"]:f?["hours"]:b?["minutes"]:g?["seconds"]:["days"]:2===t?k?["days","hours"]:f?["hours","minutes"]:b?["minutes","seconds"]:g?["seconds"]:["days","hours"]:3===t?["days","hours","minutes"]:["days","hours","minutes","seconds"]).includes("days"),T=E.includes("hours"),N=E.includes("minutes"),w=E.includes("seconds"),x=(0,d.useMemo)(()=>"1"===p?h("pre_release.countdown.day","Day","Countdown label for a day"):h("pre_release.countdown.days","Days","Countdown label for days"),[p,h]),C=(0,d.useMemo)(()=>"1"===_?h("pre_release.countdown.hour","Hour","Countdown label for an hour"):h("pre_release.countdown.hours","Hours","Countdown label for hours"),[_,h]),A=(0,d.useMemo)(()=>"1"===v?h("pre_release.countdown.minute","Minute","Countdown label for a minute"):h("pre_release.countdown.minutes","Minutes","Countdown label for minutes"),[v,h]),P=(0,d.useMemo)(()=>"1"===y?h("pre_release.countdown.second","Second","Countdown label for a second"):h("pre_release.countdown.seconds","Seconds","Countdown label for seconds"),[y,h]),j=(0,d.useMemo)(()=>{let e="".concat(p," ").concat(x,", ").concat(_," ").concat(C,", ").concat(v," ").concat(A,", ").concat(y," ").concat(P),t=h("pre_release.countdown.aria_label","Time until release:","Accessible label for countdown timer");return"".concat(t," ").concat(e)},[p,x,_,C,v,A,y,P,h]);return(0,i.jsxs)(a.a,{borderRadius:"larger",className:m().countdownContainer,"data-testid":"prerelease-countdown",paddingBlockStart:"tighter-4",paddingBlockEnd:"tighter-4",paddingInlineStart:"tighter-2",paddingInlineEnd:"tighter-2",role:"timer","aria-live":"off","aria-label":j,children:[S&&(0,i.jsxs)("div",{className:l()(m().column,{[m().divider]:T}),children:[(0,i.jsx)(r.E,{className:m().dateInteger,variant:"titleSmall",children:p}),(0,i.jsx)(r.E,{variant:"marginal",color:"textSubdued",children:x})]}),T&&(0,i.jsxs)("div",{className:l()(m().column,{[m().divider]:N}),children:[(0,i.jsx)(r.E,{className:m().dateInteger,variant:"titleSmall",children:_}),(0,i.jsx)(r.E,{variant:"marginal",color:"textSubdued",children:C})]}),N&&(0,i.jsxs)("div",{className:l()(m().column,{[m().divider]:w}),children:[(0,i.jsx)(r.E,{className:m().dateInteger,variant:"titleSmall",children:v}),(0,i.jsx)(r.E,{variant:"marginal",color:"textSubdued",children:A})]}),w&&(0,i.jsxs)("div",{className:m().column,children:[(0,i.jsx)(r.E,{className:m().dateInteger,variant:"titleSmall",children:y}),(0,i.jsx)(r.E,{variant:"marginal",color:"textSubdued",children:P})]})]})}},14118:(e,t,n)=>{"use strict";let i;n.d(t,{q:()=>eR});var a=n(53108),r=n(42408),s=n(75623),o=n(26935),l=n(64312),d=n(61013),u=n(927),c=n(25791);let p={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"addItemsToRootlist"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"newPosition"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RootlistItemPositionInput"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addItemsToRootlist"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"newPosition"},value:{kind:"Variable",name:{kind:"Name",value:"newPosition"}}},{kind:"ObjectField",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]},m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"preSavePreReleaseToLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"preSavePreReleaseToLibrary"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenericError"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}}]}}]}}]},_={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"arePreReleaseAlbumsInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lookup"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PreReleaseResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PreRelease"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"preSaved"}}]}}]}}]}}]}}]}}]},v={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"removePlaylistFromRootlist"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeItemsFromRootlist"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]},y={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"removePreReleaseFromLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removePreReleaseFromLibrary"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenericError"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}}]}}]}}]};var h=n(1821);let k={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"addEntitiesToLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addLibraryItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"library"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]}}]},f={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"areAlbumsInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albums"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"saved"}}]}}]}}]}}]},b={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"areArtistsInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"saved"}}]}}]}}]}}]},g={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"areTracksInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"saved"}}]}}]}}]}}]},E={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"areShowsInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcasts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"saved"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"saved"}}]}}]}}]}}]},S={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"areEpisodesInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episodes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"saved"}}]}}]}}]}}]},T={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"arePlaylistsInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playlistsV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"following"}}]}}]}}]}}]},N={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"removeEntitiesFromLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeLibraryItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"library"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]}}]};var w=n(83724);function x(e){return e===c.NQG.ALBUM||e===c.NQG.ARTIST||e===c.NQG.TRACK||e===c.NQG.SHOW||e===c.NQG.EPISODE||e===c.NQG.PLAYLIST_V2||e===c.NQG.PRERELEASE}function C(e){return e.map(e=>{if("GenericError"===e.__typename||"NotFound"===e.__typename||"RestrictedContent"===e.__typename||"Chapter"===e.__typename)throw Error("The typename: ".concat(e.__typename," is not supported"));if("Playlist"===e.__typename)return!!(null==e?void 0:e.following);if("PreReleaseResponseWrapper"===e.__typename){var t,n;return!!((null==e||null==(t=e.data)?void 0:t.__typename)==="PreRelease"&&(null==e||null==(n=e.data)?void 0:n.preSaved))}return!!("saved"in e&&e.saved)})}class A{getEvents(){return this._events}async add(){let e;for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];if(n.length){n.forEach(t=>{if(!(e=(0,c.o_h)(t))||!x(e.type))throw Error("Unknown URI type: ".concat(null==e?void 0:e.type))});try{let t;switch(null==e?void 0:e.type){case c.NQG.PLAYLIST_V2:t=await this.requestGQL(p,{newPosition:{fromUri:null,moveType:h.$Z.TopOfRootlist},uris:n});break;case c.NQG.PRERELEASE:t=await this.requestGQL(m,{uri:n[0]});break;default:t=await this.requestGQL(k,{uris:n})}if(!t||t.errors)throw Error("GraphQL query failed");if(!(null==t?void 0:t.errors))for(let e of n)this._cache.set(e,!0),this._events.emit(w.U.UPDATE_ITEM,{uri:e,isInLibrary:!0})}catch(e){throw Error("Error adding ".concat(JSON.stringify(n)," to library: ").concat(e))}}}async remove(){let e;for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];if(n.length){n.forEach(t=>{if(!(e=(0,c.o_h)(t))||!x(e.type))throw Error("Unknown URI type: ".concat(null==e?void 0:e.type))});try{let t;switch(null==e?void 0:e.type){case c.NQG.PLAYLIST_V2:t=await this.requestGQL(v,{uris:n});break;case c.NQG.PRERELEASE:t=await this.requestGQL(y,{uri:n[0]});break;default:t=await this.requestGQL(N,{uris:n})}if(!t||t.errors)throw Error("GraphQL query failed");for(let e of n)this._cache.set(e,!1),this._events.emit(w.U.UPDATE_ITEM,{uri:e,isInLibrary:!1})}catch(e){throw Error("Error removing ".concat(JSON.stringify(n)," from library: ").concat(e))}}}async containsEntitiesOfType(e,t){if(0===t.length)return[];let n=async e=>{let n=await this.requestGQL(e,{uris:t});if(!n||n.errors)throw Error("GraphQL query failed");return n};switch(e){case c.NQG.ALBUM:return C((await n(f)).data.albums);case c.NQG.ARTIST:return C((await n(b)).data.artists);case c.NQG.TRACK:return C((await n(g)).data.tracks);case c.NQG.SHOW:return C((await n(E)).data.podcasts);case c.NQG.EPISODE:return C((await n(S)).data.episodes);case c.NQG.PLAYLIST_V2:return C((await n(T)).data.playlistsV2);case c.NQG.PRERELEASE:return C((await n(_)).data.lookup);default:throw Error("Unknown URI type: ".concat(e))}}containsSync(e){return this._cache.get(e)}async contains(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];let a=[];{let e=[];if(n.forEach(t=>{let n=this._cache.get(t);void 0!==n?e.push(n):a.push(t)}),e.length===n.length)return e}let r=(e=e=>{let t=(0,c.o_h)(e);if(null===t||!x(t.type))throw Error("Unknown URI type: ".concat(null==t?void 0:t.type));return t.type},a.reduce((t,n)=>{let i=e(n);return(t[i]=t[i]||[]).push(n),t},{}));return await Promise.all(Object.entries(r).map(async e=>{let t,[n,i]=e,a=i.join(",");this._pendingRequests.has(a)?t=this._pendingRequests.get(a):(t=this.containsEntitiesOfType(n,i),this._pendingRequests.set(a,t));let r=await t;i.forEach((e,t)=>{this._cache.set(e,r[t]),this._events.emit(w.U.UPDATE_ITEM,{uri:e,isInLibrary:r[t]})}),this._pendingRequests.delete(a)})),n.map(e=>this._cache.get(e))}constructor(e){this.requestGQL=e,this._events=new w.b,this._cache=new Map,this._pendingRequests=new Map}}var P=n(69570),j=n(1874),L=n(79298),R=n(34155),O=n(56885);let I=O.env.DEBUG_EVENT_SENDER;var D=n(75411),B=n(52788),M=function(e){return e.InvalidURI="invalid_uri",e.PlaybackError="playback_error",e}({}),U=function(e){return e.READY="ready",e.PLAYBACK_STARTED="playback_started",e.PLAYBACK_UPDATE="playback_update",e.ERROR="error",e}({}),F=function(e){return e.PLAY_FROM_START="play_from_start",e.PLAY="play",e.PAUSE="pause",e.RESUME="resume",e.TOGGLE_PLAY="toggle",e.SEEK="seek",e.LOAD_COMPLETE_ACK="load_complete_ack",e}({}),V=n(58056),G=n(35620),W=n(67517),q=n(99073);let H=new WeakSet,Y=new WeakSet;function K(e){let{playerApi:t,store:n}=e,{triggerPlaybackOperation:i}=(0,B.N)(t,n),a=(0,D.O)(),r=(0,l.useRef)(!1);return(0,l.useEffect)(()=>{if(!t||!a)return()=>{};let e=e=>{var r,s,o,l,d;let u=n.getState(),c=u.settings.isVideoEmbed&&(null==(s=u.data)||null==(r=s.entity)?void 0:r.hasVideo);switch(null==(o=e.data)?void 0:o.command){case F.PLAY:case F.PLAY_FROM_START:i((0,V.ZH)(c?q.Xr.VIDEO:q.Xr.AUDIO)),a({page:window.location.pathname,action_intent:"play",action_type:"iframe-api"});break;case F.PAUSE:i((0,V.v7)()),a({page:window.location.pathname,action_intent:"pause",action_type:"iframe-api"});break;case F.RESUME:(null==(l=t.getState())?void 0:l.hasContext)?i((0,V.U)()):i((0,V.ZH)(c?q.Xr.VIDEO:q.Xr.AUDIO)),a({page:window.location.pathname,action_intent:"resume",action_type:"iframe-api"});break;case F.TOGGLE_PLAY:i((0,V.d5)(c?q.Xr.VIDEO:q.Xr.AUDIO)),a({page:window.location.pathname,action_intent:"toggle",action_type:"iframe-api"});break;case F.SEEK:{let t=parseInt(null==(d=e.data)?void 0:d.timestamp,10);i((0,V.jF)(1e3*t)),a({page:window.location.pathname,action_intent:"seek",action_type:"iframe-api"})}break;case F.LOAD_COMPLETE_ACK:a({page:window.location.pathname,action_intent:"load-episode",action_type:"iframe-api"});break;default:return}};return Y.has(e)||(window.addEventListener("message",e),Y.add(e)),r.current||(window.parent&&window.parent.postMessage({type:U.READY},"*"),r.current=!0),()=>{Y.has(e)&&(window.removeEventListener("message",e),Y.delete(e))}},[t,n,i,a]),(0,l.useEffect)(()=>(function(e){let t=!1,n=null;if(window.parent&&e){let i=e=>{if(e.data){let{isPaused:i,isBuffering:a,duration:r,positionAsOfTimestamp:s,hasContext:o,context:l}=e.data;window.parent.postMessage({type:U.PLAYBACK_UPDATE,payload:{isPaused:i,isBuffering:a,duration:r,position:s,playingURI:l.uri}},"*"),o&&!t&&(window.parent.postMessage({type:U.PLAYBACK_STARTED,payload:{playingURI:l.uri}},"*"),t=!0,n=l.uri),(o||i)&&n===l.uri||(t=!1,n=l.uri)}},a=e=>{var t=e.data;if(window.parent){let e={code:M.PlaybackError,message:"".concat(t.code,": ").concat(t.message),recoverable:t.type===G.Yq.TRANSIENT};window.parent.postMessage({type:U.ERROR,payload:e},"*")}};return H.has(e)||(e.getEvents().addListener(W.gd.UPDATE,i).addListener(W.gd.ERROR,a),H.add(e)),()=>{e&&H.has(e)&&(e.getEvents().removeListener(W.gd.UPDATE,i).removeListener(W.gd.ERROR,a),H.delete(e))}}return()=>{}})(t),[t]),null}var Q=n(81670),z=n(11100);async function J(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;try{return await e()}catch(i){if(t)return await new Promise(e=>setTimeout(e,n)),J(e,t-1,n);throw Error("Import failed after retry.",{cause:i})}}async function X(e){let{createHarmonyPlayer:t}=await J(()=>Promise.all([n.e(3327),n.e(3632),n.e(5824)]).then(n.bind(n,89934)));return t(e)}async function Z(e,t){let{createStandalonePlayer:i}=await J(()=>Promise.all([n.e(3327),n.e(3632),n.e(4847)]).then(n.bind(n,67903)));return i(e,t)}let $=async(e,t,n)=>{let{playbackMode:i,platformSupportsEncryptedContent:a}=await n,r=!t.settings.session.isAnonymous;return!(0,Q.BT)(t)&&i===z.L.FULL||(0,Q.o2)(t)&&r&&i===z.L.PREVIEW&&a?X(e):Z(e,t)};var ee=n(84822),et=n(43903),en=n(67039),ei=n(98646);let ea=(0,l.createContext)(null);var er=n(95303),es=n(86143),eo=n(10895),el=n(56988),ed=n(82536),eu=n(93629),ec=n(11377),ep=n(99687);let em={initialized:!1,showOverflowMenu:!1,playbackMode:z.L.UNKNOWN,platformSupportsEncryptedContent:!1,currentPreviewTrackIndex:0},e_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:em,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ep.Z:return(0,eu._)((0,ed._)({},e),{initialized:!0});case ec.tx:return(0,eu._)((0,ed._)({},e),{showOverflowMenu:!0});case ec.iG:return(0,eu._)((0,ed._)({},e),{showOverflowMenu:!1});case z.b:return(0,eu._)((0,ed._)({},e),{playbackMode:t.playbackMode,platformSupportsEncryptedContent:t.platformSupportsEncryptedContent});case q.j5:return(0,eu._)((0,ed._)({},e),{currentPreviewTrackIndex:t.index});default:return e}};function ev(e){let t=es.Zz,n=[eo.P],i=(0,es.HY)({data:()=>e.data,settings:()=>e.settings,machineState:e_});return(0,el.U1)({reducer:i,preloadedState:e,middleware:e=>e({immutableCheck:!1,composeEnhancer:t}).concat(n),duplicateMiddlewareCheck:!1})}var ey=n(92976);function eh(e){if("undefined"!=typeof TextEncoder)return new TextEncoder().encode(e);let t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=1)t[n]=e.charCodeAt(n);return t}var ek=n(83105),ef=n.n(ek);let eb=async function(e){let t=eh(e);return ef().createHash("sha256").update(t).digest("hex")};class eg{}eg.encode=eh,eg.hash=eb;var eE=n(43370);function eS(e){return"OperationDefinition"===e.kind}let eT="https://api-partner.spotify.com/pathfinder/v1";async function eN(e){return{persistedQuery:{version:1,sha256Hash:await eg.hash(e.body)}}}async function ew(e,t,n,i,a){let{type:r,name:s}=t;return e.build().withHost(eT).withMethod("mutation"===r?"POST":"GET").withoutMarket().withPath("/query").withJsonContentType().withRetries({retries:2,retryDelay:800,retryOn:[503]}).withQueryParameters((0,ed._)({operationName:s,variables:JSON.stringify(n),extensions:JSON.stringify(i)},a)).withEndpointIdentifier("/query/".concat(s)).send()}async function ex(e,t,n,i,a){let{name:r,body:s}=t;return e.build().withHost(eT).withMethod("POST").withoutMarket().withPath("/query").withJsonContentType().withBody({operationName:r,variables:n,query:s,extensions:i}).withQueryParameters((0,ed._)({},a)).withEndpointIdentifier("/query/".concat(r)).send()}async function eC(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=await eN(t);try{var r,s;let o=await ew(e,t,n,a,i);if(null==(s=o.body)||null==(r=s.errors)?void 0:r.some(e=>"PersistedQueryNotFound"===e.message))return ex(e,t,n,a,i);return o}catch(r){if(r instanceof ey.O&&405===r.status)return ex(e,t,n,a,i);throw r}}var eA=n(40375);async function eP(){let{checkPlatform:e}=await Promise.all([n.e(3327),n.e(3283)]).then(n.bind(n,73283));return e()}var ej=n(16412);let eL=async e=>{let{playbackMode:t,isCheckPlatformSupportsEncryptedContent:n}=(e=>{let t=(0,Q.BT)(e),n=!(0,Q.yY)(e),i=e.settings.isSpotifyDesktopApp,a=e.data.entity;return a&&(0,ej.J)(null==a?void 0:a.isPlayable,null==a?void 0:a.playabilityReason)||t&&i&&e.data.defaultAudioFileObject.passthrough===q.Z4.NONE?{playbackMode:z.L.PREVIEW,isCheckPlatformSupportsEncryptedContent:!1}:t&&e.data.defaultAudioFileObject.passthrough!==q.Z4.NONE&&e.data.defaultAudioFileObject.passthroughUrl?{playbackMode:z.L.FULL,isCheckPlatformSupportsEncryptedContent:!1}:(e.settings.isVideoEmbed||!t||e.data.defaultAudioFileObject.passthrough!==q.Z4.NONE)&&(t||(e=>{let{settings:{session:t}}=e;return!!(!t.accessToken||t.isAnonymous)})(e)||(e=>{let{settings:t}=e;return!!t.isMobile})(e)||(e=>{let{settings:t}=e;return!!t.isSafari})(e))?e.settings.isVideoEmbed&&n?{playbackMode:z.L.FULL,isCheckPlatformSupportsEncryptedContent:!1}:{playbackMode:z.L.PREVIEW,isCheckPlatformSupportsEncryptedContent:!1}:{playbackMode:z.L.FULL,isCheckPlatformSupportsEncryptedContent:!0}})(e);if(n)try{let e=await eP().catch(()=>!1);return e?{playbackMode:z.L.FULL,platformSupportsEncryptedContent:e}:{playbackMode:z.L.PREVIEW,platformSupportsEncryptedContent:e}}catch(e){return{playbackMode:z.L.PREVIEW,platformSupportsEncryptedContent:!1}}return Promise.resolve({playbackMode:t,platformSupportsEncryptedContent:!1})},eR=e=>{let{children:t,props:{config:c,state:p}}=e,[m,_]=(0,l.useState)(ev(p)),[v,y]=(0,l.useState)(null),[h,k]=(0,l.useState)(null),[f,b]=(0,l.useState)(null),[g]=(0,l.useState)(()=>(0,o.hU)(c.strings,{type:"backend",async read(e,t,i){try{if("en"===e)return i(null,{});return i(null,await n(50713)("./".concat(e,"/strings.json")))}catch(e){return i(null,{})}}}));return(0,j.E)(c),(0,l.useEffect)(()=>{var e;u.n.setSession(p.settings.session);let t=(e=>{if(i)return i;let t=(0,ee.createBaseTransport)({providers:{endpoints:(0,ee.createXResolveProvider)(),token:function(e){var t;let n;return t=async()=>{let t;if(e&&!(Date.now()>=e.accessTokenExpirationTimestampMs))t=e;else{if(null===(t=(await u.n.getInstance().build().withPath("/embed/api/token").withoutMarket().withoutAuthorization().withEndpointIdentifier("/embed/api/token").send()).body))throw Error("Token is currently unavailable.");u.n.setSession(t)}let{accessToken:n,accessTokenExpirationTimestampMs:i}=t;return[n,Math.floor(((i||0)-Date.now())/1e3)]},n=null,async()=>{let e;if(n)return n;n=t();try{e=await n}finally{n=null}return e}}(e.tokenFromServer)},disconnectBeforeUnload:!0,reconnectionRetries:3,requestMode:"fetch"});return e.useDealer&&t.addPlugin(et.kJ,{WebSocket:WebSocket}),t.on(ee.TransportEvent.CONNECTED,()=>{t.isAuthenticated()||t.authenticate()}),t.on(ee.TransportEvent.DISCONNECTED,()=>{t.connect()}),t.connect(),i=t,t})({useDealer:!p.settings.session.isAnonymous,tokenFromServer:p.settings.session}),n=eL(p);$(t,p,n).then(e=>{let{playerAPI:t}=e;k(t)}),b(new A((e=u.n.getInstance(),async function(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=function(e){let t=e.definitions.filter(eS);if(0===t.length)throw Error("No GraphQL operation definition found in document!");if(t.length>1)throw Error("Too many GraphQL operation definitions found in document! Expected exactly one.");let[n]=t;if(void 0===n.name)throw Error("Nameless GraphQL operations are not supported!");return{type:n.operation,name:n.name.value,body:(0,eE.y)(e)}}(t);if("subscription"===a.type)throw Error("GraphQL subscriptions are not supported!");return(await eC(e,a,n,i)).body})));let{correlationId:a,clientId:r}=c;y(((e,t,n)=>{let i=(0,L.kE)({transport:e,suppressPersist:!1,context:[(0,R.createClientIdContext)(t),(0,R.createApplicationContext)({version:O.env.__BUILD_VERSION__}),(0,R.createUserAgentContext)(),(0,R.createCorrelationIdContext)(n)],ownerProvider:()=>null,storagePrefix:t});return I&&(i._send=i.send,i.send=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return console.log("EventSender.send"),console.table(e),i._send(e,...n)},i.addListeners({[L.ky.UPLOAD_SUCCEEDED]:e=>{console.log("EventSender: uploaded ".concat(e.data.num_events," events"))},[L.ky.UPLOAD_FAILED]:e=>{console.error("EventSender: upload failed",e)}})),i})(t,r,a));let s=ev(p);n.then(e=>{var t;let{playbackMode:n,platformSupportsEncryptedContent:i}=e;return(0,s.dispatch)((t=n||z.L.PREVIEW,{type:z.b,playbackMode:t,platformSupportsEncryptedContent:i})),n}),_(s)},[p,c]),(0,a.jsx)(d.Kq,{store:m,serverState:m.getState(),children:(0,a.jsx)(P.Z.Provider,{value:f,children:(0,a.jsx)(o.OW.Provider,{value:g,children:(0,a.jsx)(o.YO,{value:c.locale,children:(0,a.jsx)(ea.Provider,{value:v,children:(0,a.jsx)(ei.E,{eventSender:v,children:(0,a.jsx)(en.v,{reduxStore:m,playerAPI:h,children:(0,a.jsxs)(s.K,{children:[(0,a.jsx)("base",{target:p.settings.isMobile?"_top":"_blank"}),(0,a.jsx)(r.mL,{styles:eA.E3}),(0,a.jsx)(er.G,{children:(0,a.jsxs)(a.Fragment,{children:[t,(0,a.jsx)(K,{store:m,playerApi:h})]})})]})})})})})})})})}},15052:(e,t,n)=>{"use strict";n.d(t,{p:()=>d});var i=n(53108),a=n(26935),r=n(46001),s=n.n(r),o=n(92874),l=n.n(o);let d=e=>{let{size:t=16,className:n}=e,r=(0,a.kj)();return(0,i.jsxs)("svg",{"data-testid":"nineteen-plus-tag",role:"img",width:t,height:t,viewBox:"0 0 12 12",className:s()(l().nonShrinkableIcon,n),"aria-label":r("age.restriction.nineeteen-badge","Nineteen plus content","Accessibility label for the 19+ tag"),children:[(0,i.jsx)("path",{fill:"#B3B3B3",d:"M4.607 9V3.328h-.96c-.112.592-.68 1.04-1.496 1.064v.752h1.36V9h1.096zm3.82-3.848c0 .616-.488 1.008-1.04 1.008-.568 0-1.04-.384-1.04-1.008 0-.608.48-1 1.04-1 .552 0 1.04.4 1.04 1zm-3 3.656c.288.184.84.312 1.312.312 1.92 0 2.92-1.208 2.92-3.256 0-1.8-1.049-2.656-2.249-2.656-1.208 0-2.144.816-2.144 1.976 0 1.192.92 1.904 1.952 1.904.64 0 1.136-.272 1.352-.632-.056 1.048-.72 1.696-1.84 1.696-.384 0-.8-.12-1.016-.24l-.288.896z"}),(0,i.jsx)("g",{transform:"scale(0.85) translate(1.1,1.1)",children:(0,i.jsx)("path",{fill:"#CD1A2B",d:"M6 11.2A5.2 5.2 0 01.8 6H-.8A6.8 6.8 0 006 12.8v-1.6zM11.2 6A5.2 5.2 0 016 11.2v1.6A6.8 6.8 0 0012.8 6h-1.6zM6 .8A5.2 5.2 0 0111.2 6h1.6A6.8 6.8 0 006-.8V.8zM6-.8A6.8 6.8 0 00-.8 6H.8A5.2 5.2 0 016 .8V-.8z"})})]})}},15127:e=>{e.exports={overflowMenuButton:"OverflowMenuButton_overflowMenuButton__JPKiT"}},15815:(e,t,n)=>{"use strict";n.d(t,{pg:()=>c,O$:()=>p,aG:()=>_});var i=n(82536),a=n(25791),r=n(64312),s=n(61013),o=n(28577),l=n(18070),d=n(67039),u=n(43720),c=function(e){return e.ADD_TO_LIBRARY="1",e}({});let p=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"embed-player-p",i=new URL("undefined"!=typeof location&&location.href?location.href:"https://open.spotify.com");e.searchParams.has("utm_source")||e.searchParams.set("utm_source",n),e.searchParams.has("utm_medium")||e.searchParams.set("utm_medium",t?"mobile":"desktop");let a=i.searchParams.get("utm_campaign");a&&e.searchParams.set("utm_campaign",a);let r=i.searchParams.get("si");return r&&e.searchParams.set("si",r),e},m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"embed-player-p",n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return(null==i?void 0:i.playbackResumeSeconds)&&e.searchParams.set("t",i.playbackResumeSeconds.toString()),(null==i?void 0:i.intent)&&"1"===i.intent&&e.searchParams.set("intent","1"),p(e,n,t)};function _(e){var t,n,c,p,_;let{productName:v,intent:y}=e,{playbackState:h}=(0,r.useContext)(d.T),k=(0,l.g)(),f=(0,s.d4)(e=>{let{data:t}=e;return t.entity}),b=(0,s.d4)(e=>{let{settings:t}=e;switch(t.entityContext){case"episode":case"track":return!1;default:return!0}}),g=(0,s.d4)(e=>{let{settings:t}=e;return t.isMobile}),E=Math.floor((null!=(c=(0,u.s)((0,i._)({},h,k)))?c:0)/1e3),[S,T]=(0,r.useState)({selectedEntity:"",compositeEntity:"",embeddedEntity:"",cta:"",ownerEntity:""}),N=null==f?void 0:f.relatedEntityUri,w=(null==f?void 0:f.isAudiobook)?N:null==f?void 0:f.uri,x="";return(null==f?void 0:f.type)===a.NQG.PLAYLIST&&(null==f||null==(t=f.authors)?void 0:t.length)&&(null==f||null==(n=f.authors)?void 0:n.length)>0&&(x=null!=(_=null==f||null==(p=f.authors[0])?void 0:p.uri)?_:""),(0,r.useEffect)(()=>{let e=e=>{var t;return null!=(t=e?(0,a.o_h)(e):null)?t:void 0},t={compositeEntity:{deepLink:m((0,o.jT)(e(N),!1),v,g,{intent:y}).toString(),storeLink:m((0,o.KY)(e(N),!1),v,g,{intent:y}).toString()},selectedEntity:{deepLink:m((0,o.jT)(e(w),!1),v,g,{playbackResumeSeconds:E,intent:y}).toString(),storeLink:m((0,o.KY)(e(w),!1),v,g,{playbackResumeSeconds:E,intent:y}).toString()},ownerEntity:{deepLink:m((0,o.jT)(e(x),!1),v,g,{playbackResumeSeconds:E,intent:y}).toString()}},n=b?t.compositeEntity:t.selectedEntity;T({selectedEntity:t.selectedEntity.deepLink,compositeEntity:t.compositeEntity.deepLink,embeddedEntity:n.deepLink,cta:n.storeLink,ownerEntity:t.ownerEntity.deepLink})},[v,b,E,g,y,w,N,x]),S}},15947:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var i=n(53108),a=n(50711),r=n(26935),s=n(64312),o=n(10231),l=n(15815),d=n(75411),u=n(95303),c=n(40375);let p=e=>{let{trackListLength:t,className:n,isVideoEntity:p}=e,m=(0,d.O)(),[_,v]=(0,s.useState)("large"),{width:y,height:h}=s.useContext(u.k),k=(0,l.aG)({productName:p?"embed_player_v":"embed_player_p"}),f=(0,r.kj)();(0,s.useEffect)(()=>{h&&y&&v(((e,t,n,i)=>n?t<=c.OM.smallVideo?"medium":t<=c.OM.mediumVideo?"large":"xlarge":e>=c.ht.large&&t>=c.OM.medium&&!i?"large":e>=c.ht.landscape?"medium":"small")(h,y,p,t))},[h,y,t,p]);let b=f("play_on_spotify","Play on Spotify","Button that plays the viewed content in the Spotify client");return(0,i.jsx)("a",{className:n,onClick:()=>{m({action_type:"click",action_intent:"deeplink",action_item_id:"spotify-logo"})},title:b,href:(null==k?void 0:k.embeddedEntity)||o.G,role:"button","aria-label":b,"data-testid":"spotify-logo",children:(0,i.jsx)(a.D,{size:_,semanticColor:"textBase"})})}},16207:e=>{e.exports={followButtonWrapper:"FollowButton_followButtonWrapper__uMaPG",followButtonText:"FollowButton_followButtonText__axhEd"}},16412:(e,t,n)=>{"use strict";n.d(t,{J:()=>a});var i=n(1821);function a(e,t){return!e&&t===i.$c.CatalogueRestricted}},16798:e=>{e.exports={closeButton:"PreReleaseUpsellContent_closeButton__n4_vO",content:"PreReleaseUpsellContent_content__0R5TN",countdownContainer:"PreReleaseUpsellContent_countdownContainer__Wgdf4",messageContainer:"PreReleaseUpsellContent_messageContainer__X5Nr5",upsellMessage:"PreReleaseUpsellContent_upsellMessage__VtyER",buttonContainer:"PreReleaseUpsellContent_buttonContainer__yXbia"}},18070:(e,t,n)=>{"use strict";n.d(t,{g:()=>r});var i=n(64312),a=n(47164);let r=()=>(0,i.useContext)(a.n)},18117:(e,t,n)=>{"use strict";n.d(t,{o:()=>_});var i=n(53108),a=n(46001),r=n.n(a),s=n(61013),o=n(81670),l=n(53628),d=n(76622),u=n(85727),c=n(50347),p=n(59015),m=n.n(p);let _=()=>{let e=(0,s.d4)(e=>e.machineState.showOverflowMenu),t=(0,s.d4)(e=>{var t;return(0,o.BT)(e)||(null==(t=e.data.entity)?void 0:t.isAudiobook)?e.data.entity.relatedEntityUri:e.data.entity.uri});return(0,i.jsx)(c.N,{visible:e,children:(0,i.jsxs)("ul",{className:r()(m().menu,{[m().visible]:e}),children:[(0,i.jsx)("li",{className:m().menuItem,children:(0,i.jsx)(u.y,{})}),(0,i.jsx)("li",{className:m().menuItem,children:(0,i.jsx)(l.C,{uri:t})}),(0,i.jsx)("li",{className:m().menuItem,children:(0,i.jsx)(d.M,{})})]})})}},20468:(e,t,n)=>{"use strict";n.d(t,{eL:()=>r,kD:()=>s,v7:()=>a});var i=n(11377);function a(){return{type:i.tx}}function r(){return{type:i.iG}}function s(e){return{type:i.Fv,productName:e}}},23883:(e,t,n)=>{"use strict";n.d(t,{oy:()=>r}),n(67510);var i=n(86727),a=n(57830);let r=(e,t)=>{var n;let r=e instanceof Error?e:Error(String(e));(0,a.fE)({metric_type:i.MetricTypes.COUNTER,what:"error",tags:{errorName:null!=(n=r.name)?n:JSON.stringify(r),type:"network",serviceName:t,status:void 0!==r.status?String(r.status):"UNKNOWN_STATUS"},value:1})}},24459:(e,t,n)=>{"use strict";n.d(t,{w:()=>r});var i=n(53108),a=n(80921);let r=e=>{let{className:t}=e;return(0,i.jsx)(a.E,{className:t,"aria-hidden":!0,semanticColor:"textSubdued",variant:"bodySmallBold",children:"\xb7"})}},25235:e=>{e.exports={closeButton:"CloseButton_closeButton__FDeuo"}},25686:(e,t,n)=>{"use strict";n.d(t,{e:()=>u});var i=n(53108),a=n(46001),r=n.n(a),s=n(53469),o=n(15815),l=n(9088),d=n.n(l);let u=e=>{let{className:t}=e,n=(0,o.aG)({productName:"embed_player_p"}),a=(0,s.m)();return(0,i.jsx)("div",{onClick:a({component:"cover-art",href:null==n?void 0:n.embeddedEntity}),"aria-hidden":!0,className:r()(d().coverArt,t)})}},26900:e=>{e.exports={getSpotifyButton:"UpsellButton_getSpotifyButton__9XE6r",getSpotifyButtonPrimary:"UpsellButton_getSpotifyButtonPrimary__BIy6t",buttonText:"UpsellButton_buttonText__L41pW"}},28342:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});var i=n(44982),a=n(16412);function r(e,t,n,r){if(t){var s,o;if(e.entityType===i.c.CHAPTER)return e.isPlayable&&n;if(e.entityType===i.c.EPISODE&&!e.isPlayable&&(null==(s=e.audioPreview)?void 0:s.url)||(null==(o=e.audioPreview)?void 0:o.url)&&(0,a.J)(e.isPlayable,e.playabilityReason))return!0;if(r&&e.isNineteenPlus)return!1}return e.isPlayable}},28577:(e,t,n)=>{"use strict";n.d(t,{KY:()=>s,jT:()=>r});var i=n(10231),a=n(1874);function r(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=new URL("undefined"!=typeof location&&location.href?location.href:i.G),r=null;e?(r=new URL(e.toURL()),t&&n.searchParams.forEach((e,t)=>{r.searchParams.set(t,e)})):(r=n,t||(r.search="")),r.searchParams.delete("nd"),r.searchParams.delete("fallback"),r.searchParams.set("go","1");let s=(0,a.i)();return"string"==typeof(null==s?void 0:s.correlationId)&&r.searchParams.append("sp_cid",s.correlationId),r}function s(e,t){let n=r(e,t);return n.searchParams.set("fallback","getapp"),n}},29183:e=>{e.exports={addToLibraryButton:"AddToLibraryCompact_addToLibraryButton__eRbCq"}},29680:e=>{e.exports={visibleOnlyToScreenReader:"ScreenReaderInput_visibleOnlyToScreenReader__TVvYo"}},31542:(e,t,n)=>{"use strict";n.d(t,{l:()=>u});var i=n(53108),a=n(89037),r=n(63381),s=n(85809),o=n(65815),l=n(35745),d=n.n(l);let u=()=>{let{isCompactLegacy:e}=(0,a.o)();return(0,i.jsxs)("div",{className:d().playerControlsWrapper,children:[e&&(0,i.jsx)("div",{className:d().addToLibraryCompactWrapper,children:(0,i.jsx)(r.p,{})}),(0,i.jsx)("div",{className:d().overflowMenuButtonWrapper,children:(0,i.jsx)(s.G,{})}),(0,i.jsx)(o.n,{})]})}},32159:(e,t,n)=>{"use strict";n.d(t,{J:()=>d});var i=n(53108),a=n(75646),r=n(47372),s=n(26935),o=n(25235),l=n.n(o);let d=e=>{let{handleClose:t}=e,n=(0,s.kj)();return(0,i.jsx)(a.H,{className:l().closeButton,condensedAll:!0,iconOnly:r.M,"aria-label":n("close_button_action","Close","Accessibility label for a close button"),onClick:t,semanticColor:"textBase"})}},33822:(e,t,n)=>{"use strict";n.d(t,{O:()=>a});var i=n(44982);let a=e=>{var t,n,a,r,s,o,l,d;let u;if(!e)throw Error("Error: Entity Unavailable");let c=e.uri,p={};return(p.title=e.title,p.subtitle=e.subtitle,p.duration=null==(t=null!=(r=e.duration)?r:0)?void 0:t.toString(),p.audioPreviewUrl=null!=(s=null==(n=e.audioPreview)?void 0:n.url)?s:void 0,p.videoPreviewUrl=null!=(o=null==(a=e.videoPreview)?void 0:a.url)?o:void 0,p.explicit=e.isExplicit?"true":"false","relatedEntityUri"in e)?(p.releaseDate=null==(l=e.releaseDate)?void 0:l.isoString,e.trackList&&e.trackList.length>0&&e.trackList.some(e=>e.entityType===i.c.CHAPTER&&e.isPlayable)&&(u=[{items:null==(d=e.trackList)?void 0:d.filter(e=>e.isPlayable).map(e=>({uid:e.uid,type:function(e){return e===i.c.EPISODE?i.c.EPISODE:e===i.c.TRACK?i.c.TRACK:e===i.c.CHAPTER?i.c.CHAPTER:i.c.UNKNOWN}(e.entityType),uri:e.uri,provider:null}))}])):p.uid=e.uid,{uri:c,metadata:p,pages:u}}},35155:(e,t,n)=>{"use strict";n.d(t,{l:()=>f});var i=n(82536),a=n(93629),r=n(53108),s=n(80921),o=n(26935),l=n(46001),d=n.n(l),u=n(64312),c=n(61013),p=n(75411),m=n(33822),_=n(18070),v=n(67039),y=n(1671),h=n(37423),k=n.n(h);let f=()=>{let e=(0,c.d4)(e=>e.data.entity),{playbackState:t}=(0,u.useContext)(v.T),{positionAsOfTimestamp:n}=(0,_.g)(),{metadata:l}=(0,u.useMemo)(()=>(0,m.O)(e),[e]),h=(0,c.d4)(e=>{var t;return null==(t=e.data.entity)?void 0:t.isPreRelease}),f=(null==t?void 0:t.duration)||Number(null==l?void 0:l.duration),[b,g]=(0,u.useState)({dragPosition:null,showRemainingTime:!0}),E=(0,o.kj)(),{showRemainingTime:S,dragPosition:T}=b,[N,w]=(0,u.useState)(E("spe.playback-control.progress-timestamp","Progress timestamp","Accessibility label for a numeric progress display in the currently playing track, in minutes and seconds")),x=0;Number.isFinite(T)?x=T*f:n&&(x=n);let C="";C=(null==t?void 0:t.hasContext)||(null==t?void 0:t.isPaused)!==void 0?S?(0,y.A)((x||0)-f):(0,y.A)(x||0):(0,y.A)(f),(0,u.useEffect)(()=>{S?w("".concat(C," remaining time. Toggle to elapsed.")):w("".concat(C," elapsed time. Toggle to remaining."))},[C,S]);let A=C.replace(/\d/g,"0").replace(/^\d/,"-0"),P=(0,p.O)();return(0,r.jsxs)("button",{className:d()(k().progressTimer,{[k().hideForSmallLandscape]:h}),onClick:()=>{g((0,a._)((0,i._)({},b),{showRemainingTime:!b.showRemainingTime})),P({action_type:"click",action_intent:"change-time-format"})},"aria-disabled":!(null==t?void 0:t.hasContext)&&(null==t?void 0:t.isPaused)===void 0||(null==t?void 0:t.isPaused),tabIndex:!(null==t?void 0:t.hasContext)&&(null==t?void 0:t.isPaused)===void 0||(null==t?void 0:t.isPaused)?-1:0,"aria-pressed":S,"aria-label":N,children:[(0,r.jsx)("span",{className:k().progressTimeSpacer,"aria-hidden":!0,children:A}),(0,r.jsx)(s.E,{className:k().actualProgressTime,"data-testid":"progress-timestamp",semanticColor:"textBase",variant:"bodySmall",children:C})]})}},35620:(e,t,n)=>{"use strict";n.d(t,{Yq:()=>i,Z9:()=>a,bt:()=>o,q3:()=>s});var i=function(e){return e[e.TRANSIENT=0]="TRANSIENT",e[e.PERSISTENT=1]="PERSISTENT",e}({}),a=function(e){return e.SUCCESS="success",e.PLAYBACK_STUCK="playback_stuck",e.PLAYBACK_ERROR="playback_error",e.LICENSE_CHANGE="license_change",e.PLAY_RESTRICTED="play_restricted",e.STOP_RESTRICTED="stop_restricted",e.UPDATE_RESTRICTED="update_restricted",e.PAUSE_RESTRICTED="pause_restricted",e.RESUME_RESTRICTED="resume_restricted",e.SKIP_TO_PREV_RESTRICTED="skip_to_prev_restricted",e.SKIP_TO_NEXT_RESTRICTED="skip_to_next_restricted",e.SKIP_TO_NON_EXISTENT_TRACK="skip_to_non_existent_track",e.TOGGLE_REPEAT_CONTEXT_RESTRICTED="toggle_repeat_context_restricted",e.TOGGLE_REPEAT_TRACK_RESTRICTED="toggle_repeat_track_restricted",e.SET_OPTIONS_RESTRICTED="set_options_restricted",e.TOGGLE_SHUFFLE_RESTRICTED="toggle_shuffle_restricted",e.SET_QUEUE_RESTRICTED="set_queue_restricted",e.INTERRUPT_PLAYBACK_RESTRICTED="interrupt_playback_restricted",e.SEEK_TO_RESTRICTED="seek_to_restricted",e.ONE_TRACK_UNPLAYABLE="one_track_unplayable",e.ONE_TRACK_UNPLAYABLE_AUTO_STOPPED="one_track_unplayable_auto_stopped",e.ALL_TRACKS_UNPLAYABLE_AUTO_STOPPED="all_tracks_unplayable_auto_stopped",e.SKIP_TO_NON_EXISTENT_TRACK_AUTO_STOPPED="skip_to_non_existent_track_auto_stopped",e.QUEUE_REVISION_MISMATCH="queue_revision_mismatch",e.VIDEO_PLAYBACK_ERROR="video_playback_error",e.VIDEO_GEORESTRICTED="video_georestricted",e.VIDEO_UNSUPPORTED_PLATFORM_VERSION="video_unsupported_platform_version",e.VIDEO_UNSUPPORTED_CLIENT_VERSION="video_unsupported_client_version",e.VIDEO_UNSUPPORTED_KEY_SYSTEM="video_unsupported_key_system",e.VIDEO_COUNTRY_RESTRICTED="video_country_restricted",e.VIDEO_UNAVAILABLE="video_unavailable",e.VIDEO_CATALOGUE_RESTRICTED="video_catalogue_restricted",e.VIDEO_MANIFEST_DELETED="video_manifest_deleted",e.TIMEOUT="timeout",e.INVALID="invalid",e.PLAYBACK_REPORTING_ERROR="playback_reporting_error",e.UNKNOWN="unknown",e.UNRECOGNIZED="unrecognized",e}({});class r extends Error{static getMessage(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return t.length>0?"Code '".concat(e,"' with reasons '").concat(t.join(", "),"'"):void 0!==n?"Code '".concat(e,"' with cause '").concat(n.name,": ").concat(n.message,"'"):"Code '".concat(e,"'")}constructor(e,t,n,i){super(r.getMessage(t,n,i)),this.type=e,this.code=t,this.reasons=n,this.cause=i}}class s extends r{constructor(e,t,n){super(0,e,t,n)}}class o extends r{constructor(e,t,n){super(1,e,t,n)}}},35745:e=>{e.exports={playerControlsWrapper:"PlayerControlsShort_playerControlsWrapper__qdkr5",addToLibraryCompactWrapper:"PlayerControlsShort_addToLibraryCompactWrapper__vXwv0",overflowMenuButtonWrapper:"PlayerControlsShort_overflowMenuButtonWrapper__qNhz2",previewPlayPauseWrapper:"PlayerControlsShort_previewPlayPauseWrapper__39zQA",skipButtonsWrapper:"PlayerControlsShort_skipButtonsWrapper__8Nqc6"}},36886:(e,t,n)=>{"use strict";n.d(t,{n:()=>u});var i=n(64312),a=n(61013),r=n(88936),s=n(87527),o=n(11100),l=n(75411);let d=()=>"ontouchstart"in document.documentElement?"touchstart":"mouseover";function u(){let e=(0,s.j)(),t=(0,l.O)(),n=(0,a.d4)(e=>e.machineState.playbackMode),u=(0,i.useCallback)(()=>{document.removeEventListener(d(),u),e((0,r.n)()),t({action_type:"interacted",action_intent:d()})},[e,t]);(0,i.useEffect)(()=>(n&&n!==o.L.UNKNOWN&&(t({action_type:"pageview",action_intent:null}),document.addEventListener(d(),u)),()=>{document.removeEventListener(d(),u)}),[t,u,n])}},37423:e=>{e.exports={progressTimeSpacer:"ProgressTimer_progressTimeSpacer__aN1q5",actualProgressTime:"ProgressTimer_actualProgressTime__kN3ww",progressTimer:"ProgressTimer_progressTimer__EIq8k",hideForSmallLandscape:"ProgressTimer_hideForSmallLandscape__kbEzw"}},38291:e=>{e.exports={preSaveButton:"PreSaveButton_preSaveButton__6lIqM",preSaveButtonText:"PreSaveButton_preSaveButtonText__sJca0"}},38751:e=>{e.exports={wrapper:"AddToLibrary_wrapper__FZKUv"}},40446:e=>{e.exports={backgroundCoverArt:"BackgroundCoverArt_backgroundCoverArt__i5yOP"}},43720:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});let i=e=>{var t;let n=null!=(t=null==e?void 0:e.positionAsOfTimestamp)?t:null;if(null===e||null===n||null===e.duration)return null;let{timestamp:i=0,duration:a=0,speed:r,hasContext:s,isPaused:o,isBuffering:l}=e;return!s||o||l?n:Math.min(n+(Date.now()-i)*(null!=r?r:0),a)}},44648:(e,t,n)=>{"use strict";n.d(t,{h:()=>y});var i=n(53108),a=n(80921),r=n(4141),s=n(46001),o=n.n(s),l=n(64312),d=n(61013),u=n(53469),c=n(15815),p=n(33822),m=n(53223),_=n(69479),v=n.n(_);let y=e=>{let{showUpsell:t,variant:n}=e,s=(0,d.d4)(e=>e.data.entity),{metadata:_}=(0,l.useMemo)(()=>(0,p.O)(s),[s]),y=(null==_?void 0:_.title)||"",h=(0,c.aG)({productName:"embed_player_p"}),k=(0,u.m)();return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.E,{as:"h1",variant:null!=n?n:"bodyMedium",className:o()(v().title,{[v().alignBelowUpsell]:t}),"data-testid":"entity-title",children:(0,i.jsx)(m.r,{title:y,children:(0,i.jsx)(r.Y,{standalone:!0,semanticColor:"textBase",onClick:k({component:"title",href:null==h?void 0:h.selectedEntity}),href:null==h?void 0:h.selectedEntity,children:y})})})})}},44977:e=>{e.exports={clicked:"CopyLink_clicked__O9BXe","out-in":"CopyLink_out-in__HDSDy",unclicked:"CopyLink_unclicked__dYp_M","in-out":"CopyLink_in-out__3Q56J"}},44982:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var i=function(e){return e.ALBUM="album",e.ARTIST="artist",e.AUDIOBOOK="audiobook",e.CHAPTER="chapter",e.EPISODE="episode",e.PLAYLIST="playlist",e.PLAYLISTV2="playlist-v2",e.SHOW="show",e.TRACK="track",e.UNKNOWN="unknown",e}({})},45691:(e,t,n)=>{"use strict";n.d(t,{D:()=>E});var i=n(53108),a=n(90521),r=n(27131),s=n(90865),o=n(26935),l=n(46001),d=n.n(l),u=n(64312),c=n(61013),p=n(75411),m=n(92688),_=n(67039),v=n(58056),y=n(99073),h=n(62183),k=n.n(h);let f=()=>(0,i.jsx)("div",{className:k().loadingSpinner});var b=n(55537),g=n.n(b);let E=e=>{var t,n;let{maxTimeToNotShowLoading:l}=e,{playbackState:h,triggerPlaybackOperation:k}=(0,u.useContext)(_.T),{isEntityPlayable:b}=(0,m.y)(),E=(null==h?void 0:h.isDisabled)||!b,S=(null==h?void 0:h.isBuffering)||!1,T=(0,p.O)(),N=!!(null==h?void 0:h.hasContext),w=null==h||null==(t=h.item)?void 0:t.uri,x=!N||null==(n=null==h?void 0:h.isPaused)||n,C=(0,o.kj)(),A=(0,c.d4)(e=>e.settings.isVideoEmbed),[P,j]=(0,u.useState)(C("page.loading","Loading","Accessibility label for loading spinner")),L=(0,u.useRef)(!1),R=(0,u.useRef)(void 0),O=(0,u.useRef)(void 0),[I,D]=(0,u.useState)(!1);(0,u.useEffect)(()=>{L.current?(S?R.current=setTimeout(()=>{R.current=void 0,S&&D(!0)},l||200):(R&&clearTimeout(R.current),I&&!O&&setTimeout(()=>{D(!1)},300)),I&&(O.current=setTimeout(()=>{O.current=void 0,S||D(!1)},300))):L.current=!0});let B=(0,u.useRef)(null);return(0,u.useEffect)(()=>{E?(j(C("spe.error_heading","Something went wrong","Accessibility label for error message")),B.current=(0,i.jsx)(a.x,{className:g().playPauseIcon,title:P,color:(0,r.cl)("textBase")})):I?(j(C("page.loading","Loading","Accessibility label for loading spinner")),B.current=(0,i.jsx)(f,{})):x?(j(C("embed_play","Play","Accessibility label for a button that plays preview of a track")),B.current=(0,i.jsx)(a.x,{className:g().playPauseIcon,title:P,color:(0,r.cl)("textBase")})):(j(C("embed_pause","Pause","Accessibility label for a button that pauses preview of a track")),B.current=(0,i.jsx)(s.B,{className:g().playPauseIcon,title:P,color:(0,r.cl)("textBase")}))},[I,x,C,P,E,b]),(0,i.jsx)("button",{"data-testid":"play-pause-button",className:d()(g().buttonWrapper,{[g().disabled]:E||!b,[g().adaptForVideo]:A}),onClick:()=>{E||(b?(k((0,v.d5)(A?y.Xr.VIDEO:y.Xr.AUDIO)),T({action_type:"click",action_intent:!1===x?"pause":"play",action_item_id:"now-playing-bar",item_uri:w})):T({action_type:"playback",action_intent:"track-not-available",action_item_id:"now-playing-bar",item_uri:w}))},"aria-label":P,tabIndex:0,children:B.current})}},47164:(e,t,n)=>{"use strict";n.d(t,{n:()=>i});let i=(0,n(64312).createContext)({timestamp:void 0,positionAsOfTimestamp:void 0})},49669:e=>{e.exports={wrapper:"OverflowMenuBase_wrapper__CyfQs",visible:"OverflowMenuBase_visible__bdlfX",menuContent:"OverflowMenuBase_menuContent__Kcicz",closeButton:"OverflowMenuBase_closeButton__pATy_",policies:"OverflowMenuBase_policies__r_Fbu",stickDown:"OverflowMenuBase_stickDown__xfZSA",link:"OverflowMenuBase_link__8OQFz",separator:"OverflowMenuBase_separator__l_I5t",adaptToOverflowMenu:"OverflowMenuBase_adaptToOverflowMenu__YeDTC"}},49875:e=>{e.exports={wrapper:"Error_wrapper__rnmqo",content:"Error_content__DLtLW",title:"Error_title__Itx4f",description:"Error_description__wJgFt",links:"Error_links__xYnxY",primary:"Error_primary__1qg4H",icon:"Error_icon__7F4I4",secondary:"Error_secondary__pz9N0"}},50347:(e,t,n)=>{"use strict";n.d(t,{N:()=>k});var i=n(53108),a=n(4141),r=n(26935),s=n(46001),o=n.n(s),l=n(81359);n(64312);var d=n(61013),u=n(75411),c=n(20468),p=n(87527),m=n(11100),_=n(32159),v=n(24459),y=n(49669),h=n.n(y);let k=e=>{let{visible:t,showPolicies:n=!0,onClose:s,children:y}=e,k=(0,r.kj)(),f=(0,d.d4)(e=>e.machineState.playbackMode),b=(0,d.d4)(e=>e.settings.isVideoEmbed),g=(0,p.j)(),E=(0,u.O)(),S=()=>{null==s||s(),g((0,c.eL)()),E({action_type:"click",action_intent:"close-context-menu"})};return(0,i.jsx)(i.Fragment,{children:f!==m.L.UNKNOWN&&(0,i.jsx)(l.FocusTrap,{active:t,focusTrapOptions:{onDeactivate:S,initialFocus:!1},children:(0,i.jsxs)("div",{className:o()(h().wrapper,{[h().visible]:t}),children:[(0,i.jsxs)("div",{className:o()(h().menuContent,{[h().visible]:t}),children:[y,n&&(0,i.jsxs)("div",{className:o()(h().policies,{[h().stickDown]:!b}),children:[(0,i.jsx)(a.Y,{className:h().link,href:"https://www.spotify.com/legal/privacy-policy/",target:"_blank",onClick:()=>{E({action_type:"click",action_intent:"privacypolicy-show"})},semanticColor:"textSubdued",standalone:!0,children:k("spe.privacy_policy","Privacy Policy","Button`s text that opens privacy policy Spotify`s page")}),(0,i.jsx)(v.w,{className:h().separator}),(0,i.jsx)(a.Y,{className:h().link,href:"https://www.spotify.com/legal",target:"_blank",semanticColor:"textSubdued",onClick:()=>{E({action_type:"click",action_intent:"termsandconditions-show"})},standalone:!0,children:k("spe.terms_and_conditions","Terms & Conditions","Button`s text that opens a terms and conditions Spotify`s page")})]})]}),(0,i.jsx)("div",{className:h().closeButton,children:(0,i.jsx)(_.J,{handleClose:S})})]})})})}},50713:(e,t,n)=>{var i={"./af/strings.json":[48404,8404],"./am/strings.json":[78181,8181],"./ar-EG/strings.json":[91139,1139],"./ar-MA/strings.json":[25749,5749],"./ar-SA/strings.json":[63543,3543],"./ar/strings.json":[23768,3768],"./az/strings.json":[50016,16],"./bg/strings.json":[50464,464],"./bho/strings.json":[89870,9870],"./bn/strings.json":[42579,2579],"./bs/strings.json":[66140,6140],"./ca/strings.json":[51735,1735],"./cs/strings.json":[25365,5365],"./da/strings.json":[8032,8032],"./de/strings.json":[14028,4028],"./el/strings.json":[29886,9886],"./en-GB/strings.json":[34734,4734],"./es-419/strings.json":[63436,3436],"./es-AR/strings.json":[68701,8701],"./es-MX/strings.json":[33880,1499],"./es/strings.json":[99855,9855],"./et/strings.json":[24326,4326],"./eu/strings.json":[86577,6577],"./fa/strings.json":[34438,4438],"./fi/strings.json":[55278,5278],"./fil/strings.json":[3014,3014],"./fr-CA/strings.json":[36542,6542],"./fr/strings.json":[33555,3555],"./gl/strings.json":[54668,4668],"./gu/strings.json":[76367,6367],"./he/strings.json":[71056,1056],"./hi/strings.json":[63156,3156],"./hr/strings.json":[88949,8949],"./hu/strings.json":[64768,4768],"./id/strings.json":[82618,2618],"./is/strings.json":[16395,6395],"./it/strings.json":[12746,2746],"./ja/strings.json":[35954,5954],"./kn/strings.json":[94894,4894],"./ko/strings.json":[64313,4313],"./lt/strings.json":[14607,4607],"./lv/strings.json":[99485,9485],"./mk/strings.json":[74319,4319],"./ml/strings.json":[49190,9190],"./mr/strings.json":[68972,8972],"./ms/strings.json":[61927,1927],"./nb/strings.json":[79323,9323],"./ne/strings.json":[49658,9658],"./nl/strings.json":[33997,3997],"./or/strings.json":[64094,4094],"./pa-IN/strings.json":[92520,2520],"./pa-PK/strings.json":[19494,9494],"./pl/strings.json":[8811,8811],"./pt-BR/strings.json":[6974,6974],"./pt-PT/strings.json":[88174,8174],"./ro/strings.json":[24808,4808],"./ru/strings.json":[58942,8942],"./sk/strings.json":[23277,3277],"./sl/strings.json":[22776,2776],"./sr/strings.json":[96234,6234],"./sv/strings.json":[10094,94],"./sw/strings.json":[63161,3161],"./ta/strings.json":[60528,528],"./te/strings.json":[31708,1708],"./th/strings.json":[33507,3507],"./tr/strings.json":[5737,5737],"./uk/strings.json":[70103,103],"./ur/strings.json":[2340,2340],"./vi/strings.json":[62494,2494],"./zh-CN/strings.json":[82013,2013],"./zh-HK/strings.json":[84769,4769],"./zh-TW/strings.json":[73769,3769],"./zu/strings.json":[78070,8070]};function a(e){if(!n.o(i,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=i[e],a=t[0];return n.e(t[1]).then(()=>n.t(a,19))}a.keys=()=>Object.keys(i),a.id=50713,e.exports=a},51759:(e,t,n)=>{"use strict";function i(e){return{type:"LOG_INTERACTION",interactionData:e}}n.d(t,{d:()=>i})},52788:(e,t,n)=>{"use strict";n.d(t,{N:()=>T});var i=n(82536),a=n(93629),r=n(17459),s=n(16182),o=n.n(s),l=n(64312),d=n(67517),u=n(11100);let c=e=>{let t=new URL(e.href).searchParams.get("t");if(t){let e=parseInt(t,10);if(e>0)return e}return null};var p=n(1874),m=n(33822),_=n(99073),v=n(28342),y=n(58056);let h=()=>({featureIdentifier:"embed",featureVersion:"3",referrerIdentifier:"PlayerStub_UnknownReferrer",restrictionIdentifier:(0,p.i)().restrictionId?(0,p.i)().restrictionId:void 0}),k=(e,t,n,r)=>{if(t===u.L.PREVIEW){var s,o;return(0,a._)((0,i._)({},e),{metadata:(0,a._)((0,i._)({},e.metadata),{externalResolvedUrl:r===_.Xr.AUDIO?null==(s=e.metadata)?void 0:s.audioPreviewUrl:null==(o=e.metadata)?void 0:o.videoPreviewUrl})})}return(0,a._)((0,i._)({},e),{metadata:(0,a._)((0,i._)({},e.metadata),{useAuthEndpoint:n?"yes":""})})},f=(e,t)=>t.mediaType!==_.Xr.VIDEO?e:(0,a._)((0,i._)({},e),{metadata:(0,a._)((0,i._)({},e.metadata),{mediaType:_.Xr.VIDEO})}),b=(e,t,n,i,a)=>{let r=n===u.L.PREVIEW,s=null==e?void 0:e.findIndex((e,n)=>n>t&&(0,v.C)(e,r,i,a));return null!=s?s:-1},g=(e,t,n)=>(null==e?void 0:e.trackList)&&t===u.L.PREVIEW?(0,m.O)(e.trackList[null!=n?n:0]):(0,m.O)(e),E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,r=t===u.L.PREVIEW;return e.slice(0,i+1).map(e=>(0,v.C)(e,r,n,a)).reduce((e,t)=>t?e+1:e,0)-1};async function S(e,t,n){var i,a,r,s,o,l,d,p,m;let{settings:T,machineState:N,data:{entity:w,defaultAudioFileObject:x}}=t.getState(),C=t.dispatch,A=T.session.isAnonymous,P=N.playbackMode===u.L.PREVIEW,j=g(w,N.playbackMode),L=e.getState();switch(n.type){case _.CU:if((null==w?void 0:w.trackList)&&P&&!(null==L?void 0:L.hasContext)){let n=null!=(i=T.isAudiobookLaunchedInGeoMarket)&&i,a=w.trackList.findIndex(e=>(0,v.C)(e,P,n,A));if(-1===a)break;await S(e,t,(0,y.h2)(a))}else if((null==L?void 0:L.hasContext)&&(null==L?void 0:L.isPaused)===!1)await e.pause();else if((null==L?void 0:L.hasContext)&&(null==L?void 0:L.isPaused)===!0)await e.resume();else{let t=c(window.location),i=k(f(j,n),N.playbackMode,!A,n.mediaType);await e.play(i,h(),{seekTo:t?1e3*t:void 0},x)}break;case _.tr:{let t=c(window.location),i=k(f(j,n),N.playbackMode,!A,n.mediaType);await e.play(i,h(),{seekTo:t?1e3*t:void 0},x)}break;case _.WO:if(P){let t=k(f(g(w,N.playbackMode,n.index),n),N.playbackMode,!A,n.mediaType);await e.play(t,h(),{},x),C((0,y.TB)(n.index))}else{let t=k(f(j,n),N.playbackMode,!A,n.mediaType),i=(null==(a=t.pages)?void 0:a.length)!==(null==w||null==(r=w.trackList)?void 0:r.length)&&t.pages?E(null==w?void 0:w.trackList,N.playbackMode,null!=(s=T.isAudiobookLaunchedInGeoMarket)&&s,n.index,A):n.index;await e.play(t,h(),{skipTo:{index:i}},x)}break;case _.IY:await e.resume();break;case _.Hz:await e.pause();break;case _.NI:if(n.time&&Number.isFinite(n.time))await e.seekTo(n.time);else if(n.percentage&&Number.isFinite(n.percentage)){let t=(null==L?void 0:L.duration)||Number(null==(o=j.metadata)?void 0:o.duration);await e.seekTo(n.percentage*t)}break;case _.r2:await e.seekForward(15e3);break;case _.hM:await e.seekBackward(15e3);break;case _.lQ:if(P){let n=b(null==w?void 0:w.trackList,N.currentPreviewTrackIndex,N.playbackMode,null!=(l=T.isAudiobookLaunchedInGeoMarket)&&l,A);if(n>=0)await S(e,t,(0,y.h2)(n));else{let n=null!=(p=null==w||null==(d=w.trackList)?void 0:d.findIndex(e=>{var t;return(0,v.C)(e,P,null!=(t=T.isAudiobookLaunchedInGeoMarket)&&t,A)}))?p:-1;n>=0&&await S(e,t,(0,y.h2)(n))}}else await e.skipToNext();break;case _.rp:if(P){if(L&&null!==L.positionAsOfTimestamp&&(L.positionAsOfTimestamp>3e3||0===N.currentPreviewTrackIndex))await e.seekTo(0);else if(N.currentPreviewTrackIndex>0){let n=((e,t,n,i,a)=>{let r=n===u.L.PREVIEW;for(let n=t-1;n>=0;n--)if(e&&(0,v.C)(e[n],r,i,a))return n;return -1})(null==w?void 0:w.trackList,N.currentPreviewTrackIndex,N.playbackMode,null!=(m=T.isAudiobookLaunchedInGeoMarket)&&m,A);n>=0&&await S(e,t,(0,y.h2)(n))}}else await e.skipToPrevious();break;case _.oD:await e.mute();break;case _.zK:await e.unmute()}}let T=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=n?(()=>{let{timestamp:e,positionAsOfTimestamp:t}=n;return(0,r._)(n,["timestamp","positionAsOfTimestamp"])})():null,[p,m]=(0,l.useState)(s),[_,v]=(0,l.useState)({timestamp:null==n?void 0:n.timestamp,positionAsOfTimestamp:null==n?void 0:n.positionAsOfTimestamp}),[h,k]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=c(window.location);e&&v(t=>(0,a._)((0,i._)({},t),{positionAsOfTimestamp:1e3*e}))},[n]);let f=(0,l.useCallback)(n=>e&&S(e,t,n),[e,t]),{machineState:{playbackMode:g,currentPreviewTrackIndex:E},settings:{isAudiobookLaunchedInGeoMarket:T,session:{isAnonymous:N}},data:{entity:w}}=t.getState();return(0,l.useEffect)(()=>{if(!h||g!==u.L.PREVIEW||!(null==w?void 0:w.trackList))return;let e=w.trackList.length>E+1,t=E>=w.trackList.length-1;if(e){let e=b(w.trackList,E,g,null!=T&&T,N);e>=0?(k(!1),f((0,y.h2)(e))):(k(!1),f((0,y.TB)(0)))}else t&&(k(!1),f((0,y.TB)(0)))},[h,f,g,null==w?void 0:w.trackList,E,T,N]),(0,l.useEffect)(()=>{let t=e=>{if(!e.data)return;let t=e.data,{timestamp:n,positionAsOfTimestamp:a}=t,s=(0,r._)(t,["timestamp","positionAsOfTimestamp"]),l={timestamp:n,positionAsOfTimestamp:a};v(e=>o()(e,l)?e:l),m(e=>o()(e,s)?e:(0,i._)({},e,s))},n=e=>{m(t=>(0,a._)((0,i._)({},t),{isDisabled:!0,error:(0,a._)((0,i._)({},e.data),{message:e.data.message})}))},s=()=>{k(!0)};if(e){let r=e.getEvents();r.addListener(d.gd.UPDATE,t),r.addListener(d.gd.ERROR,n),r.addListener(d.gd.TRACK_ENDED,s),m(e=>(0,a._)((0,i._)({},e),{isDisabled:!1}))}else m(e=>(0,a._)((0,i._)({},e),{isDisabled:!0}));return()=>{if(e){let i=e.getEvents();i.removeListener(d.gd.UPDATE,t),i.removeListener(d.gd.ERROR,n),i.removeListener(d.gd.TRACK_ENDED,s)}}},[e]),{playbackState:p,positionState:_,triggerPlaybackOperation:f}}},53223:(e,t,n)=>{"use strict";n.d(t,{r:()=>c});var i=n(53108),a=n(46001),r=n.n(a),s=n(64312),o=n(61013),l=n(8004),d=n(76923),u=n.n(d);let c=e=>{let{children:t,title:n}=e,a=(0,s.useRef)(null),d=(0,s.useRef)(null),c=(0,s.useRef)(null),p=(0,s.useRef)(0),m=(0,s.useRef)("scrolling"),[_,v]=(0,s.useState)(!1),y=(0,o.d4)(e=>e.settings.rtl)?"rtl":"ltr",h=(0,s.useRef)(void 0),k=(e=>{let t=(0,s.useMemo)(()=>window.matchMedia(e),[e]),[n,i]=(0,s.useState)(()=>!t||t.matches);return(0,s.useEffect)(()=>{if(!t||!t.addEventListener)return()=>{};let e=e=>{i(e.matches)};return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}},[t]),n})("(prefers-reduced-motion: reduce)");(0,s.useEffect)(()=>{v(k)},[k]);let f=(0,s.useRef)({initialMouseInteraction:null,animationOnMount:null}),b=(0,s.useCallback)(()=>c.current&&a.current?c.current.clientWidth-a.current.clientWidth:0,[]),g=(0,s.useCallback)(()=>h&&"rtl"===h.current?1:-1,[h]),E=(0,s.useCallback)(()=>{let e=b();return e>0&&y!==h.current?0+-1*g()*e:0},[b,y,g]),S=(0,s.useCallback)(()=>{var e;null==(e=c.current)||e.style.setProperty("--trans-x","".concat(E(),"px"))},[E]),T=(0,s.useCallback)(()=>{if(_||p.current)return;let e=!1,t=0,n=1,i=!1,a=r=>{let s=b();if(s<=0)return;let o=!0,l=t;e&&(i?r>i+1200&&(i=!1):"paused"===m.current||((l+=(r-e)*60/1e3*n*.2)>s?(n*=-1,i=r,l=s):l<0&&(n*=-1,i=r,l=0,o=!1)),t=l,d.current.scrollLeft=t),e=r,p.current=0,o&&(p.current=requestAnimationFrame(a))};m.current="scrolling",a(0)},[.2,1200,b,_]),N=(0,s.useCallback)(()=>p.current,[]),w=(0,s.useCallback)(()=>{m.current="paused"},[]),x=(0,s.useCallback)(()=>{m.current="scrolling"},[]),C=(0,s.useCallback)(()=>{cancelAnimationFrame(p.current),m.current="paused",p.current=0},[]),A=(0,s.useCallback)(()=>{Object.values(f.current).forEach(e=>e&&clearTimeout(e))},[]),P=(0,s.useCallback)(e=>{N()?w():"focus"!==e&&(f.current.initialMouseInteraction=setTimeout(T,200))},[T,w,200,N]),j=(0,s.useCallback)(()=>{f.current.initialMouseInteraction&&clearTimeout(f.current.initialMouseInteraction),N()&&x()},[x,N]);return(0,s.useEffect)(()=>{f.current.animationOnMount&&clearTimeout(f.current.animationOnMount),f.current.animationOnMount=setTimeout(T,1e3)},[T,1e3]),(0,s.useEffect)(()=>()=>{C(),A(),S()},[C,A,S]),(0,s.useEffect)(()=>{var e,t;let n=null==(e=c.current)?void 0:e.children[0];n&&(h.current=getComputedStyle(n).direction,"rtl"===h.current&&(null==(t=a.current)||t.classList.add(u().containerRtl))),S()},[y,E,S]),!function(e){let t=(0,l.YQ)(e,100,{leading:!0});(0,s.useEffect)(()=>(window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t),t.cancel()}),[t])}(()=>{C(),S()}),(0,i.jsx)("div",{ref:a,className:u().container,onMouseOver:()=>P("mouse"),onFocus:()=>P("focus"),onMouseOut:j,onBlur:j,title:_&&n?n:void 0,children:(0,i.jsx)("div",{ref:d,className:r()(u().scrollableContainer,{[u().gradient]:b()>0}),children:(0,i.jsx)("div",{ref:c,className:u().inner,children:t})})})}},53469:(e,t,n)=>{"use strict";n.d(t,{m:()=>u});var i=n(64312),a=n(61013),r=n(67039),s=n(58056),o=n(81670),l=n(11100),d=n(75411);let u=()=>{let e=(0,d.O)(),{playbackState:t,triggerPlaybackOperation:n}=(0,i.useContext)(r.T),u=(0,a.d4)(e=>e.machineState.playbackMode),c=(0,a.d4)(e=>e.settings.isMobile),p=null==t?void 0:t.isPaused,m=(0,a.d4)(o.BT),_=u===l.L.PREVIEW;return(0,i.useCallback)(t=>{let{component:i,href:a}=t;return t=>{t.preventDefault(),(m||_)&&!1===p&&n((0,s.v7)()),e({action_type:"click",action_intent:"deeplink",action_item_id:i}),a&&window.open(a,c?"_self":"_blank")}},[e,m,p,_,n,c])}},53628:(e,t,n)=>{"use strict";n.d(t,{C:()=>h});var i=n(53108),a=n(47372),r=n(38059),s=n(17486),o=n(43797),l=n(26935),d=n(25791);n(64312);var u=n(61013),c=n(53469),p=n(15815),m=n(89037),_=n(80117),v=n(75411),y=n(61180);let h=e=>{let{uri:t,action:n}=e,h=(0,l.kj)(),k=(0,c.m)(),f=(0,v.O)(),b=(0,u.d4)(e=>{var t;let{data:n}=e;return null==(t=n.entity)?void 0:t.isAudiobook}),g=(0,u.d4)(e=>{var t;let{data:n}=e;return(null==(t=n.entity)?void 0:t.type)===d.NQG.EPISODE}),{isCompactLegacy:E,isCompactTracklistLegacy:S}=(0,m.o)(),T=(0,u.d4)(e=>e.settings.session.isAnonymous),N=n&&"follow"===n||!n&&(e=>{var t;let{uri:n,isAudiobook:i}=e,a=null==(t=(0,d.o_h)(n))?void 0:t.type;return a===d.NQG.ARTIST||a===d.NQG.SHOW&&!i})({uri:t,isAudiobook:b}),w=(0,p.aG)({productName:"embed_player_v",intent:p.pg.ADD_TO_LIBRARY}),[x,C]=(0,_.A)(t);if(void 0===x)return null;let A=(e=>{let{isFollowButton:t,saved:n,t:i}=e;return t?n?i("mwp.context.stop.following","Stop Following","Button`s text that removes an item to the user`s library"):i("follow_on_spotify","Follow on Spotify","Button`s text that adds an item to the user`s library"):n?i("embed.saved-on-spotify","Saved on Spotify","Button`s text that removes an item to the user`s library"):i("embed.save-on-spotify","Save on Spotify","Button`s text that adds an item to the user`s library")})({isFollowButton:N,saved:x[t],t:h}),P=async e=>{T?k({component:N?"follow":"add-to-library",href:((e,t,n)=>e?t?n.compositeEntity:n.embeddedEntity:n.selectedEntity)(N,g,w)})(e):(f({action_type:"click",action_intent:((e,t)=>e?t?"unfollow":"follow":t?"remove-from-spotify":"save-on-spotify")(N,x[t])}),await C(!x[t]))};return(0,i.jsx)(y.D,{title:A,onClick:P,icon:E||S?void 0:((e,t)=>e?t?a.M:r.h:t?s.k:o.P)(N,x[t]),testId:N?"follow-button":"save-on-spotify-button",children:A})}},55537:e=>{e.exports={buttonWrapper:"PlayButton_buttonWrapper___CMG4",adaptForVideo:"PlayButton_adaptForVideo__bsKjt",playPauseIcon:"PlayButton_playPauseIcon__EBXpd",disabled:"PlayButton_disabled__F2saR"}},56993:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});var i=n(25791),a=n(61013);let r=()=>{var e;let t=(0,a.d4)(e=>e.settings.session.isAnonymous),n=(0,a.d4)(e=>e.settings.isMobile),r=(0,a.d4)(e=>{var t;return null==(t=e.data.entity)?void 0:t.isPreRelease}),s=(0,a.d4)(e=>{var t;return null==(t=e.data.entity)?void 0:t.preReleaseUri}),o=(0,a.d4)(e=>{var t;return null==(t=e.data.entity)?void 0:t.uri}),l=(null==(e=(0,i.o_h)(o))?void 0:e.type)===i.NQG.ALBUM;return!r||(!t||!n)&&(!l||!!s)}},58056:(e,t,n)=>{"use strict";n.d(t,{A4:()=>d,GT:()=>p,LY:()=>_,TB:()=>v,U:()=>o,ZH:()=>r,d5:()=>a,h2:()=>s,i2:()=>m,jF:()=>y,mb:()=>c,q3:()=>u,v7:()=>l});var i=n(99073);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.Xr.AUDIO;return{type:i.CU,mediaType:e}}function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.Xr.AUDIO;return{type:i.tr,mediaType:e}}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Xr.AUDIO;return{type:i.WO,index:e,mediaType:t}}function o(){return{type:i.IY}}function l(){return{type:i.Hz}}function d(){return{type:i.hM}}function u(){return{type:i.r2}}function c(){return{type:i.rp}}function p(){return{type:i.lQ}}function m(){return{type:i.oD}}function _(){return{type:i.zK}}function v(e){return{type:i.j5,index:e}}function y(e){return{type:i.NI,time:e}}},59015:e=>{e.exports={menu:"OverflowMenuAudio_menu__Z7Mj5",visible:"OverflowMenuAudio_visible__neisd",menuItem:"OverflowMenuAudio_menuItem__hhrIj"}},61180:(e,t,n)=>{"use strict";n.d(t,{D:()=>k});var i=n(82536),a=n(93629),r=n(53108),s=n(75646),o=n(16886),l=n(80921),d=n(46001),u=n.n(d),c=n(64312),p=n(61013),m=n(89037),_=n(95303),v=n(40375),y=n(73724),h=n.n(y);let k=e=>{let{variant:t="bodyMedium",icon:n,disabled:d=!1,className:y,href:k,children:f,title:b,ariaLabel:g,clickedAnimation:E=!1,testId:S,onClick:T}=e,{isCompactLegacy:N,isCompactTracklistLegacy:w}=(0,m.o)(),x=N||w,C=x?s.H:o.$,{height:A}=(0,c.useContext)(_.k),P=(0,p.d4)(e=>e.settings.isVideoEmbed);return(0,r.jsx)(C,(0,a._)((0,i._)({colorSet:"base",disabled:d,className:u()(y,h().overflowButton,{[h().clicked]:E,[h().isAudio]:!P}),onClick:T,iconLeading:n,title:b,"aria-label":g,href:k,"data-testid":S,size:A&&A<v.ht.large&&!P?"small":"medium"},x?{condensedAll:!0}:{colorSet:"base",fullWidth:!0}),{children:(0,r.jsx)(l.E,{variant:t,className:u()(h().truncator,h().text,{[h().compact]:x}),children:f})}))}},62183:e=>{e.exports={loadingSpinner:"LoadingSpinner_loadingSpinner__RhjXu",SpinAnimation:"LoadingSpinner_SpinAnimation__yiW4R"}},63381:(e,t,n)=>{"use strict";n.d(t,{p:()=>b});var i=n(53108),a=n(75646),r=n(17486),s=n(43797),o=n(26935),l=n(25791),d=n(64312),u=n(61013),c=n(15815),p=n(80117),m=n(75411),_=n(56993),v=n(95303),y=n(40375),h=n(98977),k=n(29183),f=n.n(k);let b=()=>{var e;let t=(0,u.d4)(e=>{var t;return(null==(t=e.data.entity)?void 0:t.type)!==l.NQG.ARTIST}),n=(0,u.d4)(e=>e.settings.isMobile),k=(0,m.O)(),b=(0,o.kj)(),g=(0,u.d4)(e=>e.settings.session.isAnonymous),E=null!=(e=(0,u.d4)(e=>{var t;let{data:n}=e;return null==(t=n.entity)?void 0:t.isPreRelease}))&&e,S=(0,u.d4)(e=>{var t;return(null==(t=e.data.entity)?void 0:t.preReleaseUri)||""}),T=(0,u.d4)(e=>{var t,n;return(null==(t=e.data.entity)?void 0:t.isPreRelease)&&(null==(n=e.data.entity)?void 0:n.type)===l.NQG.ALBUM}),N=(0,u.d4)(e=>{var t;return(null==(t=e.data.entity)?void 0:t.relatedEntityUri)||""}),w=(0,u.d4)(e=>{var t;return null==(t=e.data.entity)?void 0:t.isAudiobook}),x=(0,u.d4)(e=>{var t;return(null==(t=e.data.entity)?void 0:t.uri)||""}),C=(0,u.d4)(e=>e.settings.isVideoEmbed),A=(0,c.aG)({productName:"embed_player_p",intent:c.pg.ADD_TO_LIBRARY});T?x=S:w&&(x=N);let[P,j]=(0,p.A)(x),{width:L}=d.useContext(v.k),R=(0,_.M)();if(!(t&&(!E||R))||void 0===P)return null;let O=((e,t,n)=>t?e?n("pre_release.button.pre_saved","Pre-saved","Removes the pre-saved entity from the user`s library"):n("pre_release.button.pre_save","Pre-save","Pre-saves the entity to the user`s library"):e?n("embed.saved-on-spotify","Saved on Spotify","Button`s text that removes an item to the user`s library"):n("embed.save-on-spotify","Save on Spotify","Button`s text that adds an item to the user`s library"))(P[x],E,b),I=((e,t)=>t?e?"remove-pre-save-from-spotify":"pre-save-on-spotify":e?"remove-from-spotify":"save-on-spotify")(P[x],E),D=async()=>{g?(k({action_type:"click",action_intent:"deeplink",action_item_id:I}),(0,h.J)({url:A.embeddedEntity,newWindow:!n})):(k({action_type:"click",action_intent:P[x]?"remove-from-spotify":"save-on-spotify",action_item_id:I}),await j(!P[x]))};return(0,i.jsx)(a.H,{iconOnly:P[x]?r.k:s.P,"data-testid":"save-on-spotify-button",condensedAll:!0,title:O,"aria-label":O,onClick:D,semanticColor:"textBase",size:C&&L&&L>y.OM.mediumVideo?"large":"medium",className:f().addToLibraryButton})}},64032:(e,t,n)=>{"use strict";n.d(t,{a:()=>ec});var i=n(53108),a=n(46001),r=n.n(a),s=n(81359),o=n(64312),l=n(61013),d=n(23599),u=n(75411),c=n(82536),p=n(18070),m=n(67039),_=n(81670),v=n(11100),y=n(43720),h=n(82391),k=n(80921),f=n(26935),b=n(95303),g=n(40375),E=n(89037),S=n(80117),T=n(56993),N=n(32159),w=n(13965),x=n(25686),C=n(31542),A=n(68511),P=n(91658),j=n(44648),L=n(40446),R=n.n(L);let O=()=>(0,i.jsx)("div",{className:R().backgroundCoverArt});var I=n(16886),D=n(15815),B=n(51759),M=n(87527);let U=(e,t)=>e<g.ht.landscape&&t<g.OM.small||e<g.ht.large?"small":"medium";var F=n(98977),V=n(26900),G=n.n(V);let W=()=>{let e=(0,D.aG)({productName:"embed_player_p"}),t=(0,f.kj)(),{width:n,height:a}=o.useContext(b.k),r=(0,M.j)(),s=async()=>{r((0,B.d)({action_type:"click",action_intent:"deeplink",action_item_id:"open-spotify"})),(0,F.J)({url:e.embeddedEntity})};return(0,i.jsx)("div",{className:G().getSpotifyButton,children:(0,i.jsx)(I.$,{size:U(a,n),colorSet:"invertedLight",onClick:s,children:(0,i.jsx)(k.E,{className:G().buttonText,variant:"titleSmall",children:t("embed.open-spotify","Open Spotify","A button the user can press to open the Spotify application")})})})},q=()=>{let e=(0,l.d4)(e=>e.settings.session.isAnonymous),t=(0,l.d4)(e=>e.settings.isMobile),n=(0,D.aG)({productName:"embed_player_p",intent:D.pg.ADD_TO_LIBRARY}),a=(0,f.kj)(),{width:r,height:s}=o.useContext(b.k),d=(0,M.j)(),u=async()=>{e?(d((0,B.d)({action_type:"click",action_intent:"deeplink",action_item_id:"pre-save"})),(0,F.J)({url:n.selectedEntity,newWindow:!t})):d((0,B.d)({action_type:"click",action_intent:"pre-save-on-spotify"}))},c=a("pre_release.button.pre_save","Pre-save","Pre-saves the entity to the user`s library");return(0,i.jsx)("div",{className:G().getSpotifyButton,children:(0,i.jsx)(I.$,{size:U(s,r),colorSet:"invertedLight",onClick:u,children:(0,i.jsx)(k.E,{className:G().buttonText,variant:"titleSmall",children:c})})})};var H=n(16798),Y=n.n(H),K=n(9228),Q=n.n(K);let z=e=>{let{showUpsell:t,setShowUpsell:n,onClose:a}=e,s=(0,f.kj)(),u=(0,o.useRef)(null),c=(0,l.d4)(e=>e.data.entity),p=!!(null==c?void 0:c.isAudiobook),m=p?null==c?void 0:c.relatedEntityUri:null==c?void 0:c.uri,_=null==c?void 0:c.preReleaseUri,v=p?m:_,[y]=(0,S.A)(v||""),h=!!y&&!!v&&y[v],L=(()=>{let{width:e,height:t}=(0,o.useContext)(b.k),{isCompactLegacy:n}=(0,E.o)();return(0,o.useMemo)(()=>n||t&&t<g.ht.landscapeLegacy?e&&e<=g.OM.small?1:e&&e<=g.OM.medium?2:3:t&&t<g.ht.large||e&&e<=g.OM.small?3:4,[n,t,e])})(),R=(0,T.M)(),I=(0,l.d4)(e=>{var t;let{data:n}=e;return!!(null==(t=n.entity)?void 0:t.trackList)}),D=h?s("pre_release.upsell.listen_more","Listen to more content like this in the Spotify app!","Text displayed on pre-release upsell when the entity is already pre-saved"):s("pre_release.upsell.pre_save","Pre-save and be the first to listen in the Spotify app!","Text displayed on pre-release upsell encouraging users to pre-save the content");return(0,i.jsx)(d.A,{nodeRef:u,in:t,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:{enter:Y().transition_enter,enterActive:Y().transition_enterActive,exit:Y().transition_exit,exitActive:Y().transition_exitActive},children:(0,i.jsxs)("div",{ref:u,className:r()(Q().fullscreenWrapper,{[Q().playlistContainer]:I}),children:[(0,i.jsxs)("div",{className:Q().ctaWrapper,children:[(0,i.jsx)(O,{}),(0,i.jsxs)("div",{className:Y().content,children:[(0,i.jsx)("div",{className:Y().countdownContainer,children:(0,i.jsx)(w.G,{visibleCells:L})}),(0,i.jsx)("div",{className:Y().messageContainer,children:(0,i.jsx)(k.E,{variant:"titleLarge",className:Y().upsellMessage,semanticColor:"textBase",children:D})}),(0,i.jsx)("div",{className:Y().buttonContainer,children:h||!R?(0,i.jsx)(W,{}):(0,i.jsx)(q,{})}),(0,i.jsx)("div",{className:Y().closeButton,children:(0,i.jsx)(N.J,{handleClose:()=>{a(),n(!1)}})})]})]}),(0,i.jsxs)("div",{className:Q().footerWrapper,children:[(0,i.jsx)("div",{className:Q().coverArtWrapper,children:(0,i.jsx)(x.e,{className:Q().coverArtUpsell})}),(0,i.jsxs)("div",{className:Q().metadataWrapper,children:[(0,i.jsx)(j.h,{}),(0,i.jsxs)("span",{className:Q().labelsAndSubtitle,children:[(0,i.jsx)(A.Y,{}),(0,i.jsx)(P.P,{})]})]}),(0,i.jsx)("div",{className:Q().playerControlsWrapper,children:(0,i.jsx)(C.l,{})})]})]})})};var J=n(85809),X=n(45691),Z=n(35745),$=n.n(Z);let ee=()=>(0,i.jsxs)("div",{className:$().playerControlsWrapper,children:[(0,i.jsx)("div",{className:$().overflowMenuButtonWrapper,children:(0,i.jsx)(J.G,{})}),(0,i.jsx)("div",{className:$().previewPlayPauseWrapper,children:(0,i.jsx)(X.D,{})})]}),et=()=>{let e=(0,D.aG)({productName:"embed_player_p"}),t=(0,f.kj)(),{width:n,height:a}=o.useContext(b.k),r=(0,u.O)(),s=async()=>{r({action_type:"click",action_intent:"deeplink",action_item_id:"get-spotify"}),(0,F.J)({url:e.embeddedEntity})};return(0,i.jsx)("div",{className:G().getSpotifyButton,children:(0,i.jsx)(I.$,{className:G().getSpotifyButtonPrimary,size:U(a,n),colorSet:"invertedLight",onClick:s,children:(0,i.jsx)(k.E,{className:G().buttonText,variant:"titleSmall",children:t("get_spotify","Get Spotify","A button the user can press to download / get the Spotify application")})})})},en=()=>{let e=(0,D.aG)({productName:"embed_player_p"}),t=(0,l.d4)(e=>e.settings.isMobile),n=(0,f.kj)(),{width:a,height:r}=o.useContext(b.k),s=(0,u.O)();return(0,i.jsx)("div",{className:G().getSpotifyButton,children:(0,i.jsx)(I.$,{size:U(r,a),colorSet:"invertedLight",onClick:()=>{s({action_type:"click",action_intent:"deeplink",action_item_id:"buy-this-audiobook"}),(0,F.J)({url:t?(e=>{try{let t=new URL(e);return t.searchParams.set("nd","1"),t.pathname=t.pathname.startsWith("/__noul__")?t.pathname:"__noul__".concat(t.pathname),t.toString()}catch(e){throw Error("Invalid URL")}})(e.embeddedEntity):e.embeddedEntity})},children:(0,i.jsx)(k.E,{className:G().buttonText,variant:"titleSmall",children:n("audiobook.embed.get-this-audiobook","Get this audiobook","An upsell button that a user can click to redirect them to the Spotify App and buy the book")})})})};var ei=n(25791);let ea=()=>{let e=(0,l.d4)(e=>e.data.entity),t=(0,l.d4)(e=>e.settings.session.isAnonymous),n=(0,D.aG)({productName:"embed_player_p"}),a=(0,f.kj)(),{width:r,height:s}=o.useContext(b.k),d=(0,u.O)(),[c,p]=(0,S.A)(e.relatedEntityUri),m=async()=>{t?(d({action_type:"click",action_intent:"deeplink",action_item_id:"follow"}),(0,F.J)({url:n.compositeEntity})):(d({action_type:"click",action_intent:(null==c?void 0:c[e.relatedEntityUri])?"unfollow":"follow"}),await p(!(null==c?void 0:c[e.relatedEntityUri])))};return(0,i.jsx)("div",{className:G().getSpotifyButton,children:(0,i.jsx)(I.$,{size:U(s,r),colorSet:"invertedLight",onClick:m,children:(0,i.jsx)(k.E,{className:G().buttonText,variant:"titleSmall",children:(e.type===ei.NQG.EPISODE||e.type===ei.NQG.SHOW)&&(null==c?void 0:c[e.relatedEntityUri])?a("following","Following","Button`s text that adds an item to the user`s library"):a("follow","Follow","Button`s text that removes an item to the user`s library")})})})};var er=n(10020),es=n.n(er);let eo=()=>{let e=(0,f.kj)(),t=(0,l.d4)(e=>e.data.entity.type),n=(0,l.d4)(t=>{var n;return(null==(n=t.data.entity)?void 0:n.subtitle)||e("spe.upsell_cta","Discover even more podcasts on Spotify","Text displayed after user has listened to 20 seconds of a 30 sec podcast preview.")}),a=(0,l.d4)(e=>e.data.entity.isAudiobook||!1),s=(0,l.d4)(e=>e.machineState.playbackMode)===v.L.PREVIEW,o=(0,l.d4)(_.BT);return(0,i.jsx)(k.E,{variant:"titleLarge",className:r()(es().text),id:"dialogUpsellTitle",semanticColor:"textBase",children:((e,t,n,i,a,r)=>{switch(e){case ei.NQG.EPISODE:case ei.NQG.SHOW:if(n)return t("audiobook.embed.upsell_cta","Hooked? Take this audiobook everywhere you go, on Spotify","Text displayed on an upsell menu after a user has listened to 60 seconds of an audiobook sample.");if(i&&!a)return t("spe.podcast_full_upsell_cta","Discover even more from {podcastName}","Text displayed after user has listened to 20 seconds of a 30 sec podcast preview.",{podcastName:r});return t("spe.upsell_cta","Discover even more podcasts on Spotify","Text displayed after user has listened to 20 seconds of a 30 sec podcast preview.");case ei.NQG.TRACK:return t("spe.track_upsell_cta","Listen to the full track and millions more on Spotify","Text displayed after user has listened to 20 seconds of a 30 sec track preview.");case ei.NQG.PLAYLIST:default:return t("spe.track_list_upsell","Listen to these tracks & millions more on Spotify","Text displayed after user has listened to 20 seconds of a 30 sec of track list preview.")}})(t,e,a,o,s,n)})},el=e=>{let{showUpsell:t,setShowUpsell:n,onClose:a}=e,s=(0,l.d4)(e=>{var t;let{data:n}=e;return null==(t=n.entity)?void 0:t.isAudiobook}),u=(0,l.d4)(e=>{let{machineState:t}=e;return t.playbackMode})===v.L.PREVIEW,c=(0,l.d4)(_.BT),p=(0,l.d4)(e=>{var t;let{data:n}=e;return!!(null==(t=n.entity)?void 0:t.trackList)}),m=(0,o.useRef)(null);return(0,i.jsx)(d.A,{nodeRef:m,in:t,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:{enter:Q().transition_enter,enterActive:Q().transition_enterActive,exit:Q().transition_exit,exitActive:Q().transition_exitActive},children:(0,i.jsxs)("div",{ref:m,className:r()(Q().fullscreenWrapper,{[Q().playlistContainer]:p}),children:[(0,i.jsxs)("div",{className:Q().ctaWrapper,children:[(0,i.jsx)(O,{}),(0,i.jsxs)("div",{className:Q().content,children:[(0,i.jsx)(eo,{}),s?(0,i.jsx)(en,{}):c&&!u?(0,i.jsx)(ea,{}):(0,i.jsx)(et,{}),(0,i.jsx)("div",{className:Q().closeButton,children:(0,i.jsx)(N.J,{handleClose:()=>{a(),n(!1)}})})]})]}),(0,i.jsxs)("div",{className:Q().footerWrapper,children:[(0,i.jsx)("div",{className:Q().coverArtWrapper,children:(0,i.jsx)(x.e,{className:Q().coverArtUpsell})}),(0,i.jsxs)("div",{className:Q().metadataWrapper,children:[(0,i.jsx)(j.h,{}),(0,i.jsxs)("span",{className:Q().labelsAndSubtitle,children:[(0,i.jsx)(A.Y,{}),(0,i.jsx)(P.P,{})]})]}),(0,i.jsx)("div",{className:Q().playerControlsWrapper,children:u&&!s?(0,i.jsx)(C.l,{}):(0,i.jsx)(ee,{})})]})]})})};var ed=n(8736),eu=n.n(ed);let ec=()=>{let e=(0,l.d4)(e=>{let{machineState:t}=e;return t.playbackMode}),t=(0,l.d4)(e=>{let{data:t}=e;return t.entity}),n=!!(null==t?void 0:t.isPreRelease),{showUpsell:a,setShowUpsell:k}=(()=>{let e=(0,l.d4)(e=>{let{machineState:t}=e;return t.playbackMode})===v.L.PREVIEW,{playbackState:t}=(0,o.useContext)(m.T),n=(0,p.g)(),i=(0,y.s)((0,c._)({},t,n)),a=null==t?void 0:t.isPaused,r=null==t?void 0:t.duration,s=null==t?void 0:t.hasContext,d=(0,l.d4)(e=>{let{machineState:t}=e;return t.currentPreviewTrackIndex}),u=(0,l.d4)(e=>{var t;let{data:n}=e;return!!(null==(t=n.entity)?void 0:t.isAudiobook)}),k=(0,l.d4)(_.BT),f=(0,h.c)(),[b,g]=(0,o.useState)(!1),[E,S]=(0,o.useState)(!1),[T,N]=(0,o.useState)(d+1),{skipCount:w,incrementSkipCounter:x,resetSkipCounter:C}=(()=>{let[e,t]=(0,o.useState)(0);return{skipCount:e,incrementSkipCounter:(0,o.useCallback)(()=>{t(e+1)},[e]),resetSkipCounter:(0,o.useCallback)(()=>{t(0)},[])}})();return(0,o.useEffect)(()=>{(d===T||d===T-2)&&(N(()=>T+1),x()),N(()=>d+1)},[d,x,T]),(0,o.useEffect)(()=>{u&&r&&(s&&null!==i&&(i>6e4&&w<1&&(g(!0),x()),i>0&&a&&g(!0)),i===r&&(g(!0),C())),s&&null!==i&&r&&(e?(i>2*r/3||i>0&&a||3===w)&&E!==f&&(S(f),g(!0),C()):k&&(i>r/2||i>0&&a)&&E!==f&&(S(f),g(!0)))},[i,r,e,a,f,s,E,w,C,u,x,k]),{showUpsell:b,setShowUpsell:g}})(),f=(0,u.O)(),b=()=>{k(!1),f({action_type:"click",action_intent:"close-upsell"})};(0,o.useEffect)(()=>{a&&f({action_intent:"open-upsell",action_type:"view"})},[f,a]);let g=(0,o.useRef)(null);return e===v.L.UNKNOWN?null:(0,i.jsx)(d.A,{nodeRef:g,in:a,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:{enter:eu().transition_enter,enterActive:eu().transition_enterActive,exit:eu().transition_exit,exitActive:eu().transition_exitActive},children:(0,i.jsx)(s.FocusTrap,{focusTrapOptions:{initialFocus:!1,onDeactivate:b,checkCanFocusTrap:()=>new Promise(e=>{g&&Promise.resolve(e)})},children:(0,i.jsx)("div",{ref:g,role:"dialog","aria-labelledby":"dialogUpsellTitle",className:r()(eu().upsellContentContainer,"encore-layout-themes"),children:n?(0,i.jsx)(z,{showUpsell:!0,setShowUpsell:k,onClose:b}):(0,i.jsx)(el,{showUpsell:!0,setShowUpsell:k,onClose:b})})})})}},64709:(e,t,n)=>{"use strict";n.d(t,{C:()=>L});var i=n(53108),a=n(25791),r=n(46001),s=n.n(r);n(64312);var o=n(61013),l=n(15815),d=n(80117),u=n(56993),c=n(75646),p=n(80921),m=n(26935),_=n(75411),v=n(98977),y=n(16207),h=n.n(y);let k=e=>{let{saved:t,links:n,isMobile:a,savedCb:r}=e,s=(0,o.d4)(e=>{let{settings:t}=e;return t.session.isAnonymous}),l=(0,_.O)(),d=(0,m.kj)(),u=t?d("following","Following","Button`s text that adds an item to the user`s library"):d("follow","Follow","Button`s text that removes an item to the user`s library"),y=async()=>{s?(l({action_type:"click",action_intent:"deeplink",action_item_id:"follow"}),(0,v.J)({url:n.embeddedEntity,newWindow:!a})):(l({action_type:"click",action_intent:t?"unfollow":"follow"}),await r(!t))};return(0,i.jsx)("div",{className:h().followButtonWrapper,children:(0,i.jsx)(c.H,{"data-testid":"follow-button",condensedAll:!0,title:u,"aria-label":u,onClick:y,semanticColor:"textBase",size:"medium",className:h().followButtonButton,children:(0,i.jsx)(p.E,{variant:"bodySmallBold",className:h().followButtonText,semanticColor:"textBase","data-testid":"follow-button-label",children:u})})})};var f=n(17486),b=n(43797),g=n(89037),E=n(51759),S=n(87527),T=n(38291),N=n.n(T);let w=e=>{let{isPreSaved:t,isMobile:n,preSavedCb:a,links:r}=e,l=(0,S.j)(),d=(0,o.d4)(e=>{let{settings:t}=e;return t.session.isAnonymous}),u=(0,m.kj)(),_=t?u("pre_release.button.pre_saved","Pre-saved","Removes the pre-saved entity from the user`s library"):u("pre_release.button.pre_save","Pre-save","Pre-saves the entity to the user`s library"),y=async()=>{d?(l((0,E.d)({action_type:"click",action_intent:"deeplink",action_item_id:"pre-save-on-spotify-button"})),(0,v.J)({url:r.selectedEntity,newWindow:!n})):(l((0,E.d)({action_type:"click",action_intent:t?"remove-pre-save-from-spotify":"pre-save-on-spotify"})),await a(!t))};return(0,i.jsx)(c.H,{"data-testid":"pre-save-button",condensedAll:!0,title:_,"aria-label":_,iconLeading:(0,g.o)().isCompactLegacy?void 0:t?f.k:b.P,onClick:y,semanticColor:"textBase",size:"medium",className:s()(N().preSaveButton),children:(0,i.jsx)(p.E,{"data-testid":"pre-save-button-label",className:s()(N().preSaveButtonText),children:_})})};var x=n(84563),C=n.n(x);let A=e=>{let{saved:t,isMobile:n,savedCb:a,links:r}=e,s=(0,_.O)(),l=(0,o.d4)(e=>{let{settings:t}=e;return t.session.isAnonymous}),d=(0,m.kj)(),u=t?d("embed.saved-on-spotify","Saved on Spotify","Button`s text that removes an item to the user`s library"):d("embed.save-on-spotify","Save on Spotify","Button`s text that adds an item to the user`s library"),y=async()=>{l?(s({action_type:"click",action_intent:"deeplink",action_item_id:"save-on-spotify-button"}),(0,v.J)({url:r.selectedEntity,newWindow:!n})):(s({action_type:"click",action_intent:t?"remove-from-spotify":"save-on-spotify"}),await a(!t))};return(0,i.jsx)(c.H,{"data-testid":"save-on-spotify-button",condensedAll:!0,title:u,"aria-label":u,iconLeading:(0,g.o)().isCompactLegacy?void 0:t?f.k:b.P,onClick:y,semanticColor:"textBase",size:"medium",className:C().saveOnSpotifyButton,children:(0,i.jsx)(p.E,{"data-testid":"save-button-label",className:C().saveOnSpotifyButtonText,children:u})})};var P=n(38751),j=n.n(P);let L=e=>{var t;let{uri:n,className:r}=e,c=(0,o.d4)(e=>{let{settings:t}=e;return t.isMobile}),p=(0,o.d4)(e=>{var t;let{data:n}=e;return null==(t=n.entity)?void 0:t.isPreRelease}),m=(0,o.d4)(e=>{var t;let{data:n}=e;return null==(t=n.entity)?void 0:t.preReleaseUri}),_=null==(t=(0,a.o_h)(n))?void 0:t.type,v=_===a.NQG.ARTIST,y=_===a.NQG.ALBUM&&p&&m,h=(0,l.aG)({productName:"embed_player_p",intent:l.pg.ADD_TO_LIBRARY}),f=y?m:n,[b,g]=(0,d.A)(f),E=(0,u.M)();if(void 0===b)return null;let S=p?E?(0,i.jsx)(w,{isPreSaved:b[f],preSavedCb:g,isMobile:c,links:h}):null:v?(0,i.jsx)(k,{isMobile:c,links:h,saved:b[f],savedCb:g}):(0,i.jsx)(A,{isMobile:c,links:h,saved:b[f],savedCb:g});return(0,i.jsx)("div",{"data-testid":"save-on-spotify",className:s()(j().wrapper,r),children:S})}},65815:(e,t,n)=>{"use strict";n.d(t,{n:()=>b});var i=n(82536),a=n(93629),r=n(53108),s=n(75646),o=n(90521),l=n(90470),d=n(26935),u=n(64312),c=n(75411),p=n(92688),m=n(18070),_=n(58056),v=n(67039),y=n(95303),h=n(40375),k=n(12075),f=n.n(k);let b=()=>{var e;let t=(0,d.kj)(),[n,k]=(0,u.useState)({left:0,right:0,animationState:0}),[b,g]=(0,u.useState)(!0),{playbackState:E,triggerPlaybackOperation:S}=(0,u.useContext)(v.T),{positionAsOfTimestamp:T}=(0,m.g)(),N=null==E?void 0:E.duration,{isEntityPlayable:w}=(0,p.y)(),x=null==E||null==(e=E.item)?void 0:e.uri,C=(null==E?void 0:E.isDisabled)||!w,A=(0,c.O)(),P=!(null==E?void 0:E.hasContext)||(null==E?void 0:E.isPaused),j=(0,u.useRef)(!0);j.current=n.right<180;let{height:L}=u.useContext(y.k);(0,u.useEffect)(()=>{L&&g(L>=h.ht.large)},[L]),(0,u.useEffect)(()=>{if(0===T){j.current=!0,k(e=>(0,a._)((0,i._)({},e),{left:0,right:0,animationState:2}));return}if(N&&T&&T>0){let e=360*T/N,t=e>180?180:e,n=e>180?e-180:0,r=j.current;k(e=>(0,a._)((0,i._)({},e),{left:180===t&&r&&2===e.animationState?0:n,right:t,animationState:0===e.animationState?1:e.animationState}))}},[N,T]),(0,u.useEffect)(()=>{1===n.animationState&&k(e=>(0,a._)((0,i._)({},e),{animationState:2}))},[n.animationState]);let R={zIndex:1,transform:"rotate(".concat(n.right,"deg)"),transition:0===n.right||2!==n.animationState?"none":"transform 1s ease-in-out"},O={zIndex:2,transform:"rotate(".concat(n.left,"deg)"),transition:0===n.left||2!==n.animationState?"none":"transform 1s ease-in-out"},I=()=>{!C&&(S((0,_.d5)()),A({action_type:"click",action_intent:(null==E?void 0:E.isPaused)===!1?"pause":"play",action_item_id:"now-playing-bar",item_uri:x}),w||A({action_type:"playback",action_intent:"track-not-available",action_item_id:"now-playing-bar",item_uri:x}))};return(0,r.jsx)("div",{className:f().circularContainer,"data-testid":"preview-play-pause",children:P?(0,r.jsx)(s.H,{disabled:C,"aria-label":t("embed_play","Play","Accessibility label for a button that plays preview of a track"),"data-testid":"play-pause-button",onClick:I,semanticColor:"textBase",condensedAll:!0,children:(0,r.jsx)(o.x,{semanticColor:"textBase",size:b?"xlarge":"large"})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:f().rangeBarRight,children:(0,r.jsx)("div",{className:f().rangeBarProgress,style:R,"data-testid":"progress-right"})}),(0,r.jsx)("div",{className:f().rangeBarLeft,children:(0,r.jsx)("div",{className:f().rangeBarProgress,style:O,"data-testid":"progress-left"})}),(0,r.jsx)("div",{className:f().circularInner,children:(0,r.jsx)(s.H,{className:f().iconPlayingButton,"aria-label":t("embed_pause","Pause","Accessibility label for a button that pauses preview of a track"),"data-testid":"play-pause-button",onClick:I,semanticColor:"textBase",condensedAll:!0,children:(0,r.jsx)(l._,{size:b?"large":"medium"})})})]})})}},67039:(e,t,n)=>{"use strict";n.d(t,{T:()=>o,v:()=>l});var i=n(53108),a=n(64312),r=n(47164),s=n(52788);let o=(0,a.createContext)({playbackState:null,triggerPlaybackOperation:()=>{}}),l=e=>{let{children:t,reduxStore:n,playerAPI:l}=e,{playbackState:d,positionState:u,triggerPlaybackOperation:c}=(0,s.N)(l,n),p=(0,a.useMemo)(()=>u,[u]),m=(0,a.useMemo)(()=>({playbackState:d,triggerPlaybackOperation:c}),[d,c]);return(0,i.jsx)(o.Provider,{value:m,children:(0,i.jsx)(r.n.Provider,{value:p,children:t})})}},67264:(e,t,n)=>{"use strict";n.d(t,{f:()=>s});var i=n(53108),a=n(26935);n(64312);var r=n(92240);let s=e=>{let{className:t,fullText:n=!1,bold:s=!1}=e,o=(0,a.kj)()("card.a11y.explicit","Explicit","Label for explicit tagging, only read by accessibility tools");return(0,i.jsx)(r.v,{ariaLabel:o,text:n?o:"E",className:t,bold:s})}},67517:(e,t,n)=>{"use strict";n.d(t,{gd:()=>r,JW:()=>s});var i=n(8159);class a{addListener(e,t,n){return this._emitter.addListener(e,t,n),this}removeListener(e,t,n){return this._emitter.removeListener(e,t,n),this}onAddListener(e,t){return this._emitter.onAddListener(e,t),this}onRemoveListener(e,t){return this._emitter.onRemoveListener(e,t),this}emit(e,t){return this._emitter.emit(e,t)}emitSync(e,t){return this._emitter.emitSync(e,t)}constructor(e=new i.bk){this._emitter=e,this._emitter=e||new i.bk}}var r=function(e){return e.TRACK_LOADED="track_loaded",e.TRACK_ENDED="track_ended",e.UPDATE="update",e.ERROR="error",e.ACTION="action",e.QUEUE_ACTION="queue_action",e.QUEUE_ACTION_COMPLETE="queue_action_complete",e.QUEUE_UPDATE="queue_update",e.CONTEXT_WRAPAROUND="context_wraparound",e}({});class s extends a{emitPlaySync(e,t,n){let{defaultPrevented:i}=this.emitSync("action",{action:"play",context:e,origin:t,options:n});return i}emitPauseSync(){let{defaultPrevented:e}=this.emitSync("action",{action:"pause"});return e}emitResumeSync(){let{defaultPrevented:e}=this.emitSync("action",{action:"resume"});return e}emitSkipToNextSync(){let{defaultPrevented:e}=this.emitSync("action",{action:"skipToNext"});return e}emitSkipToPreviousSync(){let{defaultPrevented:e}=this.emitSync("action",{action:"skipToPrevious"});return e}}},68511:(e,t,n)=>{"use strict";n.d(t,{Y:()=>h});var i=n(53108),a=n(51524),r=n(26935),s=n(46001),o=n.n(s);n(64312);var l=n(61013),d=n(11100),u=n(67264),c=n(15052),p=n(92240);let m=e=>{let{className:t,isPreview:n,isAudiobook:a,isTrailer:s}=e,o=(0,r.kj)(),l="";return a?l=o("audiobook.page.sample","Sample","Text on a sample tag"):n?l=o("embed_preview","Preview","Text on a preview tag"):s&&(l=o("track-trailer","Trailer","Text on a trailer tag")),(0,i.jsx)(p.v,{className:t,text:l})};var _=n(79648),v=n.n(_);let y=e=>{let{className:t,isPreview:n,isExplicit:s,isNineteenPlus:l,isAudiobook:d,isTrailer:p}=e,_=(0,r.kj)();return(0,i.jsxs)(a.b,{condensedAll:!0,className:o()(v().tagList,t),"aria-label":_("spe.tags","Tags",'Accessibility label for a list of tags such as "Explicit" and "Preview"'),children:[l&&(0,i.jsx)(c.p,{}),(0,i.jsx)(m,{isAudiobook:d,isTrailer:p,isPreview:n,className:o()(v().tag,{[v().hidden]:!(n||p||d)})}),(0,i.jsx)(u.f,{className:o()(v().tag,{[v().hidden]:!s})})]})},h=()=>{let e=(0,l.d4)(e=>{var t,n;return null!=(n=null==(t=e.data.entity)?void 0:t.isExplicit)&&n}),t=(0,l.d4)(e=>e.machineState.playbackMode),n=(0,l.d4)(e=>{var t,n;return null!=(n=null==(t=e.data.entity)?void 0:t.isAudiobook)&&n}),a=(0,l.d4)(e=>{var t,n;return null!=(n=null==(t=e.data.entity)?void 0:t.isTrailer)&&n}),r=t===d.L.PREVIEW,s=(0,l.d4)(e=>{var t,n;return null!=(n=null==(t=e.data.entity)?void 0:t.isNineteenPlus)&&n});return e||a||n||r||s?(0,i.jsx)(y,{isNineteenPlus:s,isPreview:r,isExplicit:e,isAudiobook:n,isTrailer:a,className:v().condensedTags}):null}},69479:e=>{e.exports={title:"TitleAndSubtitle_title__Nwyku",subtitle:"TitleAndSubtitle_subtitle__P1cxq",wrapper:"TitleAndSubtitle_wrapper__xndXC",separator:"TitleAndSubtitle_separator__4WdMW"}},69570:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=(0,n(64312).createContext)(null)},71999:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(53108),a=n(50711),r=n(64312),s=n(95303),o=n(49875),l=n.n(o);let d=e=>{let{title:t,description:n,links:o}=e,[d,u]=(0,r.useState)("large"),{height:c}=(0,r.useContext)(s.k);return(0,r.useEffect)(()=>{c&&u(c>550?"xxlarge":"medium")},[c]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:l().wrapper,children:[(0,i.jsx)("div",{className:l().icon,children:(0,i.jsx)(a.D,{size:d})}),(0,i.jsxs)("div",{className:l().content,children:[(0,i.jsx)("h1",{className:l().title,children:t}),(0,i.jsx)("p",{className:l().description,children:n}),(0,i.jsx)("div",{className:l().links,children:(e=>{let t=e.map(e=>(0,i.jsx)("a",{target:"_blank",href:e.href,className:e.isPrimaryStyle?l().primary:l().secondary,children:e.title},e.href));return(0,i.jsx)(i.Fragment,{children:t.map(e=>e)})})(o)})]})]})})}},73724:e=>{e.exports={overflowButton:"OverflowButton_overflowButton__KR6lg",isAudio:"OverflowButton_isAudio__LXRtM",clicked:"OverflowButton_clicked__xDnu9",text:"OverflowButton_text__VM_aj","out-in":"OverflowButton_out-in__Xdrpp",compact:"OverflowButton_compact__U_g0C",truncator:"OverflowButton_truncator__ldTUs"}},75411:(e,t,n)=>{"use strict";n.d(t,{O:()=>p});var i=n(69781),a=n(25791),r=n(64312),s=n(61013),o=n(98646),l=n(44982),d=n(11100),u=n(36135),c=n(9935);let p=()=>{let{eventSender:e}=(0,o.g)(),t=(0,s.d4)(e=>{var t;return null==(t=e.data.entity)?void 0:t.uri}),n=(0,s.d4)(e=>e.data.embeded_entity_uri),p=(0,s.d4)(e=>e.settings.isVideoEmbed),m=(0,s.d4)(e=>e.machineState.playbackMode),_=(0,s.d4)(e=>e.settings.isMobile),v=(0,s.d4)(e=>e.settings.isTablet),y=(0,s.d4)(e=>e.settings.session.isAnonymous),h=(0,s.d4)(e=>{var t;if(null==(t=e.data.entity)?void 0:t.isAudiobook)return l.c.AUDIOBOOK;let n=e.data.entity;if(null==n?void 0:n.type)return n.type;let i=(0,a.o_h)(e.data.embeded_entity_uri);return null==i?void 0:i.type});return(0,r.useCallback)(a=>{var r,s,o;if(!e)return;let l=m===d.L.PREVIEW,{osName:k,osVersion:f,browserName:b,browserVersion:g}=(0,c.F)(),E=(0,u.H)(),S={device_type:_||v?"mobile":"desktop",entity_uri:n,entity_type:h,embed_is_video:!!p,page_url:window.location.href,referrer:E,viewport_width:window.innerWidth,viewport_height:window.innerHeight,is_authenticated:!y,browser_name:b,browser_version:g,os_name:k,os_version:f,is_preview:l,action_type:a.action_type,action_intent:null!=(r=a.action_intent)?r:null,action_item_id:null!=(s=a.action_item_id)?s:null,item_uri:null!=(o=a.item_uri)?o:t};e.send((0,i.i)(S))},[e,t,n,p,_,v,y,m,h])}},76622:(e,t,n)=>{"use strict";n.d(t,{M:()=>S});var i=n(53108),a=n(75646),r=n(26506),s=n(26935),o=n(46001),l=n.n(o),d=n(64312),u=n(61013),c=n(89037),p=n(75411),m=n(927),_=n(25791);let v="".concat("https://spclient.wg.spotify.com","/url-dispenser/v1"),y=async(e,t,n)=>{let{utmParameters:i,customData:a,linkPreview:r}=n,s=await e.build().withHost(v).withPath("/generate-url").withMethod("POST").withJsonContentType().withoutMarket().withEndpointIdentifier("/v1/generate-url").withBody({spotify_uri:t,custom_data:a,link_preview:r,utm_parameters:i}).send();if(201===s.status)return s.body;throw Error("Failed to get short link for uri ".concat(t))},h=async(e,t)=>{var n;return null!=(n=(await y(e,t,{}).catch(()=>{var e;return{shareable_url:null==(e=(0,_.o_h)(t))?void 0:e.toURL()}})).shareable_url)?n:null};var k=n(81670);async function f(e){if("clipboard"in navigator&&navigator.clipboard)try{if("string"==typeof e)return await new Promise((t,n)=>setTimeout(()=>{navigator.clipboard.writeText(e).then(t).catch(n)},0));let t=await e;return await navigator.clipboard.writeText(t)}catch(t){let e=t instanceof Error?t.message:"string"==typeof t?t:"Unknown error";throw Error("Failed to copy to clipboard using Clipboard API. ".concat(e))}throw Error("Clipboard API is not available")}var b=n(44977),g=n.n(b),E=n(61180);let S=e=>{let{handleStandaloneCopyItem:t,showFallbackCopy:n=!1}=e,o=(0,u.d4)(k.M0),[_,v]=(0,d.useState)(!1),[y,b]=(0,d.useState)(!1),[S,T]=(0,d.useState)(null),N=(0,p.O)(),{isCompactLegacy:w,isCompactTracklistLegacy:x}=(0,c.o)(),C=(0,s.kj)(),A=(0,u.d4)(e=>e.settings.isVideoEmbed),P=((e,t)=>t?e("embed_success_share_link","Copied to clipboard","Text on a button when an entity link was copied to a clipboard"):e("spe.copy_link","Copy link","Text on a button to copy an entity link to the clipboard"))(C,_),j=async e=>{if(n)setTimeout(()=>{document.execCommand("copy")},0),v(!0);else try{await f(e),v(!0)}catch(n){A&&t&&t(e)}N({action_type:"click",action_intent:"clipboard-copy"})},L=async()=>{if(!_&&o)if(S)await j(S);else{let e=await h(m.n.getInstance(),o);e&&await j(e),T(e)}};return((0,d.useEffect)(()=>{_&&setTimeout(()=>{v(!1),b(!0)},2e3)},[_]),(0,d.useEffect)(()=>{T(null)},[o]),n)?(0,i.jsx)(a.H,{disabled:!o,onClick:L,condensedAll:!0,semanticColor:"textBase",className:l()({[g().clicked]:_,[g().unclicked]:y}),"data-testid":"copy-link-fallback-button",children:P}):(0,i.jsx)(E.D,{disabled:!o,onClick:L,icon:w||x?void 0:r.y,variant:"bodyMedium",clickedAnimation:_,testId:"copy-link-button",children:P})}},76923:e=>{e.exports={container:"Marquee_container__CV7du",containerRtl:"Marquee_containerRtl__1Gbu_",scrollableContainer:"Marquee_scrollableContainer__mcSox",gradient:"Marquee_gradient__dpJhe",inner:"Marquee_inner__UKCZf"}},79648:e=>{e.exports={tagList:"Tags_tagList__6JpKG",tag:"Tags_tag__bbXTA",hidden:"Tags_hidden__IArVG",condensedTags:"Tags_condensedTags__w_NCJ"}},80117:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(82536),a=n(93629),r=n(64312),s=n(61013),o=n(69570),l=n(83724);function d(e){let t=(0,r.useContext)(o.Z),n=null==t?void 0:t.containsSync(e),d=n?{[e]:n}:void 0,[u,c]=(0,r.useState)(d),p=(0,s.d4)(e=>e.settings.session.isAnonymous),m=u&&void 0!==u[e],_=(0,r.useCallback)(async n=>{n?await (null==t?void 0:t.add(e)):await (null==t?void 0:t.remove(e))},[e,t]);return(0,r.useEffect)(()=>{let n;if(t&&!p)if(m){let r=t=>{let{data:n}=t;e===n.uri&&c(t=>(0,a._)((0,i._)({},t),{[e]:n.isInLibrary}))};t.getEvents().addListener(l.U.UPDATE_ITEM,r),n=()=>{t.getEvents().removeListener(l.U.UPDATE_ITEM,r)}}else t.contains(e).then(t=>{let[n]=t;return c(t=>t?(0,a._)((0,i._)({},t),{[e]:n}):{[e]:n})});return p&&c(t=>(0,a._)((0,i._)({},t),{[e]:!1})),n},[t,p,e,m]),[u,_]}},81670:(e,t,n)=>{"use strict";n.d(t,{BT:()=>a,M0:()=>s,o2:()=>r,yY:()=>o});var i=n(25791);let a=e=>{let{data:{entity:t}}=e;return(null==t?void 0:t.type)===i.NQG.EPISODE&&!(null==t?void 0:t.isAudiobook)},r=e=>{let{data:{entity:t}}=e;return(null==t?void 0:t.isAudiobook)===!0&&!t.isRestrictedContent},s=e=>e.data.embeded_entity_uri,o=e=>{var t;let{data:{defaultAudioFileObject:n}}=e;return!!n.video&&(null==(t=n.video[0])?void 0:t.requiresDRM)}},82391:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var i=n(64312),a=n(61013),r=n(67039),s=n(11100);let o=()=>{var e,t,n,o,l;let d=(0,a.d4)(e=>{let{machineState:t}=e;return t.playbackMode}),u=(0,a.d4)(e=>{let{data:t}=e;return t.entity}),{playbackState:c}=(0,i.useContext)(r.T);if("artist"===u.type&&d===s.L.FULL){let e=u.trackList;return null==e||null==(o=e.find(e=>{var t;return e.uri===(null==c||null==(t=c.item)?void 0:t.uri)}))?void 0:o.uid}return null!=(l=d===s.L.FULL?null==c||null==(e=c.item)?void 0:e.uid:null==c||null==(n=c.context)||null==(t=n.metadata)?void 0:t.uid)?l:void 0}},82727:e=>{e.exports={countdownContainer:"Countdown_countdownContainer__Kx1gI",column:"Countdown_column__R_JOP",divider:"Countdown_divider__kt4CT",dateInteger:"Countdown_dateInteger__O3DNs"}},83724:(e,t,n)=>{"use strict";n.d(t,{U:()=>a,b:()=>r});var i=n(8159),a=function(e){return e.UPDATE_ITEM="update_item",e}({});class r extends i.bk{}},84563:e=>{e.exports={saveOnSpotifyButton:"SaveOnSpotifyButton_saveOnSpotifyButton__QCoJx",saveOnSpotifyButtonText:"SaveOnSpotifyButton_saveOnSpotifyButtonText__6Jv6P"}},85727:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});var i=n(53108),a=n(50711),r=n(26935),s=n(61013),o=n(53469),l=n(15815),d=n(89037),u=n(61180);let c=()=>{let e=(0,r.kj)(),{isCompactLegacy:t,isCompactTracklistLegacy:n}=(0,d.o)(),c=(0,s.d4)(e=>e.settings.isVideoEmbed),p=(0,o.m)(),m=(0,l.aG)({productName:c?"embed_player_v":"embed_player_p"}),_=e("play_on_spotify","Play on Spotify","Button that plays the viewed content in the Spotify client");return(0,i.jsx)(u.D,{ariaLabel:_,icon:t||n?void 0:a.D,onClick:p({component:"play-on-spotify",href:m.embeddedEntity}),href:m.embeddedEntity?m.embeddedEntity:void 0,testId:"play-on-spotify-button",children:_})}},85809:(e,t,n)=>{"use strict";n.d(t,{G:()=>p});var i=n(53108),a=n(75646),r=n(79511),s=n(26935),o=n(75411),l=n(20468),d=n(87527),u=n(15127),c=n.n(u);let p=()=>{let e=(0,d.j)(),t=(0,o.O)(),n=(0,s.kj)()("embed_more","More","Accessibility label for an open context menu button");return(0,i.jsx)(a.H,{condensedAll:!0,size:"small",className:c().overflowMenuButton,semanticColor:"textBase",title:n,"aria-label":n,onClick:()=>{e((0,l.v7)()),t({action_type:"click",action_intent:"open-context-menu"})},children:(0,i.jsx)(r.x,{})})}},87527:(e,t,n)=>{"use strict";n.d(t,{j:()=>i});let i=n(61013).wA},88126:(e,t,n)=>{"use strict";function i(e){return void 0!==e.status}n.d(t,{_:()=>i})},88936:(e,t,n)=>{"use strict";n.d(t,{n:()=>a});var i=n(99687);function a(){return{type:i.Z}}},89037:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var i=n(64312),a=n(61013),r=n(95303),s=n(40375);function o(){let{height:e}=i.useContext(r.k),t=(0,a.d4)(e=>e.settings.isVideoEmbed),n=(0,a.d4)(e=>{var t,n,i,a,r;return!!(null==(n=e.data.entity)||null==(t=n.trackList)?void 0:t.length)||(null==(i=e.data.entity)?void 0:i.type)==="album"||(null==(a=e.data.entity)?void 0:a.type)==="artist"||(null==(r=e.data.entity)?void 0:r.type)==="playlist"});return{isCompactLegacy:!!(e&&e<s.ht.landscape)&&!t&&!n,isCompactTracklistLegacy:!!(e&&e<s.ht.landscape)&&!t&&n,isCompactTracklist:!!(e&&e<s.ht.large)&&!t&&n}}},91658:(e,t,n)=>{"use strict";n.d(t,{P:()=>x});var i=n(53108),a=n(80921),r=n(4141),s=n(26935),o=n(77988),l=n(46001),d=n.n(l),u=n(64312),c=n(61013),p=n(53469),m=n(15815),_=n(13359),v=n(33822),y=n(95303),h=n(81670),k=n(40375),f=n(25791),b=n(7561),g=n(28577);let E=e=>{let{uri:t,name:n}=e,a=(0,u.useMemo)(()=>{var e;return(0,g.jT)(null!=(e=(0,f.o_h)(t))?e:void 0,!1).toString()},[t]),s=(0,b.g)(),o=(0,p.m)();return(0,i.jsx)(r.Y,{standalone:!0,semanticColor:s?"textSubdued":"textBase",onClick:o({component:"artist",href:a}),href:a,children:n})};var S=n(53223),T=n(24459),N=n(69479),w=n.n(N);let x=e=>{let{showUpsell:t}=e,{width:n,height:l}=u.useContext(y.k),f=(0,s.kj)(),b=(0,c.d4)(e=>e.data.entity),{metadata:g}=(0,u.useMemo)(()=>(0,v.O)(b),[b]),N=(0,c.d4)(e=>{var t;return!!(null==(t=e.data.entity)?void 0:t.isAudiobook)}),x=(null==g?void 0:g.title)||"",{prefix:C,name:A,useOwnerLink:P}=((e,t)=>{if((e=>{var t;return(null==e||null==(t=e.attributes)?void 0:t.find(e=>"madeFor.username"===e.key))!==void 0})(e)){var n,i;let a=null==e||null==(i=e.authors)||null==(n=i[0])?void 0:n.name;if(a)return{prefix:t("subtitle.madeFor","Made for","Prefix for a playlist that is made for a user"),name:a,useOwnerLink:!0}}return(e=>(null==e?void 0:e.format)==="spotbot-to-playlist")(e)&&(null==e?void 0:e.subtitle)?{prefix:t("subtitle.prompted","Prompted by","Prefix for a playlist that is prompted by Spotify"),name:null==e?void 0:e.subtitle,useOwnerLink:!0}:{prefix:"",name:(null==e?void 0:e.subtitle)||"",useOwnerLink:!1}})(b,f),j=b.artists,L=new Date((null==g?void 0:g.releaseDate)||""),R=(0,m.aG)({productName:"embed_player_p"}),O=P?null==R?void 0:R.ownerEntity:null==R?void 0:R.compositeEntity,I=(0,s.Ym)(),D=(0,c.d4)(h.BT),B=(0,p.m)(),M=((e,t)=>e&&t?t<k.ht.landscape?"marginal":e<k.OM.medium||t<k.ht.large?"bodySmall":"bodyMedium":"bodyMedium")(n,l),[U,F]=(0,u.useState)(!1);return(0,u.useEffect)(()=>{F(!0)},[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("h2",{className:d()(w().subtitle,{[w().alignBelowUpsell]:t,[w().isAudiobook]:N}),"data-testid":"subtitle",children:(0,i.jsx)(S.r,{title:x,children:(0,i.jsxs)("span",{className:w().wrapper,children:[D&&!N&&(0,i.jsxs)(i.Fragment,{children:[U&&(0,i.jsx)(a.E,{semanticColor:"textSubdued",variant:M,children:(0,i.jsx)(o.gz,{options:{day:"numeric",month:"short"},locale:I,date:L})}),(0,i.jsx)(T.w,{className:w().separator})]}),A&&(0,i.jsxs)(i.Fragment,{children:[C&&(0,i.jsxs)(a.E,{semanticColor:"textSubdued",variant:M,children:[C,"\xa0"]}),(0,i.jsx)(r.Y,{standalone:!0,semanticColor:"textSubdued",dir:"auto",onClick:B({component:"subtitle",href:O}),href:O,children:A})]}),(null==j?void 0:j.length)&&j.map((e,t)=>[t>0&&(0,i.jsx)(a.E,{semanticColor:"textSubdued",variant:M,children:(0,_.A)(I)},"separator-".concat(e.uri)),(0,i.jsx)(E,{uri:e.uri,name:e.name},"artist-link-".concat(e.uri))])]})})})})}},92240:(e,t,n)=>{"use strict";n.d(t,{v:()=>u});var i=n(53108),a=n(80921),r=n(46001),s=n.n(r),o=n(61013),l=n(96670),d=n.n(l);let u=e=>{let{text:t,ariaLabel:n=t,title:r=n,className:l,bold:u=!1}=e,c=(0,o.d4)(e=>e.settings.isDarkMode);return(0,i.jsx)(a.E,{"aria-label":n,className:s()(d().container,l,{[d().isDarkTheme]:c,[d().bold]:u}),title:r,"data-testid":"tag",children:t})}},92688:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});var i=n(71343),a=n(64312),r=n(61013),s=n(11100),o=n(44982),l=n(28342),d=n(16412);let u=(0,i.Mz)([e=>e.data.entity,e=>e.settings.session.isAnonymous,e=>e.machineState.platformSupportsEncryptedContent,e=>e.machineState.playbackMode,e=>{var t;return null!=(t=e.settings.isAudiobookLaunchedInGeoMarket)&&t}],(e,t,n,i,a)=>({entity:e,isAnonymous:t,platformSupportsEncryptedContent:n,playbackMode:i,isAudiobookLaunchedInGeoMarket:a})),c=()=>{let{entity:e,isAnonymous:t,platformSupportsEncryptedContent:n,playbackMode:i,isAudiobookLaunchedInGeoMarket:c}=(0,r.d4)(u),p=(0,a.useMemo)(()=>(function(e){let{entity:t,options:n}=e,{playbackMode:i}=n;if(!t||i===s.L.UNKNOWN)return!1;let a=i===s.L.PREVIEW,r=!0;if(!t.isPlayable&&(a&&(0,d.J)(t.isPlayable,t.playabilityReason)&&(r=!1),r))return t.isPlayable;if(t.isAudiobook){var u=n;let{playbackMode:e,platformSupportsEncryptedContent:t,isAnonymous:i,isAudiobookLaunchedInGeoMarket:a}=u;return!(!i&&!t&&e===s.L.PREVIEW&&!a)}if(t.type===o.c.PLAYLIST){var c=t,p=n;let{trackList:e}=c,{playbackMode:i,isAudiobookLaunchedInGeoMarket:a}=p;if(!e||0===e.length)return!1;let r=i===s.L.PREVIEW;return e.some(e=>(0,l.C)(e,r,a,p.isAnonymous))}if(t.type===o.c.TRACK||t.type===o.c.EPISODE){let e=a&&(null==t?void 0:t.audioPreview)===null,i=n.isAnonymous&&!a&&t.type===o.c.EPISODE&&(null==t?void 0:t.isNineteenPlus);return!(e||i)}return!0})({entity:e,options:{playbackMode:i,platformSupportsEncryptedContent:n,isAnonymous:t,isAudiobookLaunchedInGeoMarket:c}}),[e,i,c,t,n]),m=i===s.L.PREVIEW;return{isEntityPlayable:p,tracklistPlayability:(0,a.useMemo)(()=>{var n;return null==(n=(null==e?void 0:e.trackList)||[])?void 0:n.reduce((e,n)=>(e[n.uri]=(0,l.C)(n,m,c,t),e),{})},[null==e?void 0:e.trackList,m,c,t])}}},92874:e=>{e.exports={nonShrinkableIcon:"NineteenPlusTag_nonShrinkableIcon___vHrL"}},92976:(e,t,n)=>{"use strict";n.d(t,{JO:()=>a,O:()=>i}),n(82536),n(93629),n(25791);class i extends Error{static fromResponse(e,t){return new i({message:e.statusText,url:e.url,method:t,status:e.status,response:e})}constructor(e){let{message:t,url:n,method:i,status:a,response:r}=e;super(t),this.name="HttpResponseError",this.requestUrl=n,this.requestMethod=i,this.status=a,this.response=r}}class a extends i{constructor(e){let{timeout:t,url:n,method:i}=e;super({message:"".concat(i.toUpperCase()," ").concat(n," timed out (").concat(t,"ms)"),url:n,method:i,status:503}),this.name="HttpRequestTimeoutError",this.timeout=t}}n(23883)},95303:(e,t,n)=>{"use strict";n.d(t,{G:()=>l,k:()=>o});var i=n(82536),a=n(53108),r=n(64312);let s={width:null,height:null},o=(0,r.createContext)(s),l=e=>{let{children:t}=e,[n,l]=(0,r.useState)(s);return(0,r.useEffect)(()=>{l({width:window.innerWidth,height:window.innerHeight});let e=()=>{l({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,a.jsx)(o.Provider,{value:(0,i._)({},n),children:t})}},96670:e=>{e.exports={container:"Tag_container__ju3CN",isDarkTheme:"Tag_isDarkTheme__RUhz8",bold:"Tag_bold__ALYll"}},96972:(e,t,n)=>{"use strict";n.d(t,{A:()=>x});var i=n(53108),a=n(64312),r=n(61013),s=n(75411),o=n(33822),l=n(18070),d=n(58056),u=n(67039),c=n(25791);function p(e){return e===c.NQG.TRACK||e===c.NQG.ALBUM||e===c.NQG.PLAYLIST||e===c.NQG.ARTIST?5e3:15e3}var m=n(26935),_=n(46001),v=n.n(_),y=n(8004),h=n(1671),k=n(11339),f=n.n(k),b=n(82536),g=n(17459),E=n(29680),S=n.n(E);function T(e){var{children:t}=e,n=(0,g._)(e,["children"]);return(0,i.jsxs)("label",{className:S().visibleOnlyToScreenReader,children:[t,(0,i.jsx)("input",(0,b._)({},n))]})}function N(e,t,n){let i=e.current;if(null===i)return 0;let a=i.getBoundingClientRect();return"vertical"===n?1-Math.max(0,Math.min((t.clientY-a.top)/a.height,1)):Math.max(0,Math.min((t.clientX-a.left)/a.width,1))}let w=e=>{let{enabled:t,max:n,current:r,entityType:s,onDragStart:o,onDragMove:l,onDragEnd:d,onStepBackward:u,onStepForward:c}=e,_=(0,m.kj)(),k=(0,a.useRef)(null),{isDragging:b,onPointerDown:g,onPointerEnter:E,onPointerLeave:S,isHovering:w,hoverPercentage:x}=(e=>{let{progressBarRef:t,onDragStart:n,onDragMove:i,onDragEnd:r,direction:s="horizontal"}=e,[o,l]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[c,p]=(0,a.useState)(0),m=(0,a.useRef)(n),_=(0,a.useRef)(i),v=(0,a.useRef)(r);m.current=n,_.current=i,v.current=r;let h=(0,y.YQ)(e=>{_.current(N(t,e,s))},20,{leading:!0,maxWait:20}),k=(0,a.useCallback)(e=>{0===e.button&&(m.current(N(t,e,s)),l(!0),document.addEventListener("pointermove",h),document.addEventListener("pointerup",e=>{l(!1),h.cancel(),v.current(N(t,e,s)),document.removeEventListener("pointermove",h)},{once:!0}))},[h,t,s]),f=(0,a.useCallback)(e=>{p(N(t,e,s))},[t,s]);return{isDragging:o,onPointerDown:k,onPointerEnter:(0,a.useCallback)(()=>{u(!0),document.addEventListener("pointermove",f)},[f]),onPointerLeave:(0,a.useCallback)(()=>{u(!1),document.removeEventListener("pointermove",f)},[f]),isHovering:d,hoverPercentage:c}})({progressBarRef:k,onDragStart:o,onDragMove:l,onDragEnd:d}),[C,A]=(0,a.useState)(!1),P=Math.max(0,Math.min(1,(null!=r?r:0)/(n||1))),j=w?null!=x?x:0:P,L=w&&n?n*x:0,R=C&&n?null!=r?r:0+p(s):0,O=void 0!==n&&n>0&&(w||C),I=t&&w||b,D=(e=>{let{onStepForward:t,onStepBackward:n,value:i}=e;return(0,y.YQ)(e=>{parseFloat(e.target.value)>i?null==t||t():null==n||n()},100,{trailing:!1,leading:!0,maxWait:200})})({onStepForward:c,onStepBackward:u,value:null!=r?r:0});return(0,i.jsxs)("div",{ref:k,onPointerDown:t?g:void 0,onPointerEnter:t?E:void 0,onPointerLeave:t?S:void 0,className:f().progressBarContainer,children:[(0,i.jsx)(T,{disabled:!t,type:"range",min:0,max:n,value:null!=r?r:0,step:p(s),onChange:e=>(A(!0),D(e)),onKeyDown:e=>"Escape"===e.code&&A(!1),onFocus:()=>A(!0),onBlur:()=>A(!1),"aria-valuetext":"\n         ".concat((0,h.A)(null!=r?r:0)," /\n         ").concat((0,h.A)(null!=n?n:0),"\n        "),children:_("playback-control.a11y.seek-slider-button","Change progress","Text read by accessibility tools explaining what the white dot on the player bar is for")}),O&&(0,i.jsx)("div",{className:f().tooltip,style:{left:"".concat(100*j,"%")},children:w?(0,h.A)(L):(0,h.A)(R)}),(0,i.jsxs)("div",{className:f().progressBarLineBackground,children:[(0,i.jsx)("div",{className:f().progressBarLineActive,style:{transform:"translateX(-".concat(100-(w?x:0)*100,"%)")}}),(0,i.jsx)("div",{"data-testid":"progress-bar-line",id:"progress-bar-line",style:{transform:"translateX(-".concat(100-100*P,"%)")},className:f().progressBarLine})]}),(0,i.jsx)("div",{"data-testid":"progress-bar-slider",id:"progress-bar-slider",className:v()(f().progressBarSlider,{[f().visible]:I}),style:{left:"".concat(100*P,"%")}})]})},x=()=>{var e;let t=(0,r.d4)(e=>e.data.entity),{triggerPlaybackOperation:n,playbackState:c}=(0,a.useContext)(u.T),{positionAsOfTimestamp:m}=(0,l.g)(),_=t.isPlayable&&!!(null==c?void 0:c.hasContext),{metadata:v}=(0,a.useMemo)(()=>(0,o.O)(t),[t]),y=(null==c?void 0:c.duration)||Number(null==v?void 0:v.duration),h=null==c||null==(e=c.item)?void 0:e.uri,[k,f]=(0,a.useState)(null),[b,g]=(0,a.useState)(m||0),E=null!==k?k:b,S=(0,s.O)();(0,a.useEffect)(()=>{g(m||0)},[m]);let T=e=>{f(e*y)};return(0,i.jsx)(w,{onDragStart:T,onDragMove:T,onDragEnd:e=>{f(null),S({action_type:"click",action_intent:"seek-click",item_uri:h});let t=e*y;g(t),n((0,d.jF)(t))},max:y,current:E,enabled:_,entityType:t.type,onStepBackward:()=>{g(E-p(t.type)),n((0,d.jF)(E-p(t.type)))},onStepForward:()=>{g(E+p(t.type)),n((0,d.jF)(E+p(t.type)))}})}},98646:(e,t,n)=>{"use strict";n.d(t,{E:()=>s,g:()=>o});var i=n(53108),a=n(64312);let r=(0,a.createContext)(null),s=e=>{let{eventSender:t,children:n}=e;return(0,i.jsx)(r.Provider,{value:{eventSender:t},children:n})},o=()=>{let e=(0,a.useContext)(r);if(!e)throw Error("useEventLogger must be used within an EventLoggerProvider");return e}},98977:(e,t,n)=>{"use strict";n.d(t,{J:()=>i});let i=e=>{let{url:t,newWindow:n=!0}=e;window.open(t,n?"_blank":"_top")}},99073:(e,t,n)=>{"use strict";n.d(t,{CU:()=>r,Hz:()=>i,IY:()=>o,NI:()=>l,WO:()=>s,Xr:()=>y,Z4:()=>h,hM:()=>d,j5:()=>v,lQ:()=>c,oD:()=>m,r2:()=>u,rp:()=>p,tr:()=>a,zK:()=>_});let i="PAUSE",a="PLAY",r="TOGGLE_PLAY",s="PLAY_INDEX",o="RESUME",l="SEEK",d="SEEK_BACK",u="SEEK_FORWARD",c="PLAY_NEXT",p="PLAY_PREVIOUS",m="MUTE",_="UNMUTE",v="SET_CURRENT_PREVIEW_TRACK_INDEX",y={AUDIO:"audio",VIDEO:"video"},h={NONE:"NONE",ALLOWED:"ALLOWED",MANDATORY:"MANDATORY"}},99687:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i="INITIALIZE"}}]);