import{_ as B}from"./quickpro-icon-BEYmoaV4.js";import{u as O,r as R,x as v,m as V,c as n,a as t,h as u,i as x,j as P,t as o,f,F as b,n as w,k as F,o as i,g as d,p as y,d as k}from"./index-tJy5BnYm.js";import{u as I}from"./applications-p5Nhg3Kc.js";const T={class:"min-h-screen"},$={class:"bg-night-900/50 border-b border-night-800"},E={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},J={class:"flex items-center justify-between h-16"},z={class:"flex items-center gap-4"},M={class:"hidden md:flex items-center gap-1"},Q={class:"flex items-center gap-4"},W={class:"text-sm text-night-400"},q={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},G={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8"},H={class:"card text-center"},K={class:"text-3xl font-bold text-atlas-400"},U={class:"card text-center"},X={class:"text-3xl font-bold text-blue-400"},Y={class:"card text-center"},Z={class:"text-3xl font-bold text-purple-400"},tt={class:"card text-center"},et={class:"text-3xl font-bold text-green-400"},st={class:"flex gap-2 mb-6 overflow-x-auto pb-2"},ot=["onClick"],lt={key:0,class:"text-center py-12"},nt={key:1,class:"text-center py-12"},it={class:"text-night-400 mb-4"},at={key:2,class:"space-y-4"},rt=["onClick"],dt={class:"flex items-start justify-between"},ct={class:"flex-1"},pt={class:"flex items-center gap-3 mb-2"},ut={class:"text-sm text-night-400"},xt={key:0,class:"ml-2"},gt={key:0,class:"text-sm text-night-500 mt-2"},ft={__name:"ApplicationsView",setup(ht){const g=F(),a=I(),h=O();function A(){h.logout(),g.push({name:"login"})}const r=R("all"),C=[{value:"all",label:"All Applications"},{value:"pending",label:"ðŸ“‹ Pending"},{value:"applied",label:"âœ… Applied"},{value:"interview_scheduled",label:"ðŸŽ¤ Interview"},{value:"offer_received",label:"ðŸŽ‰ Offers"},{value:"rejected",label:"âŒ Rejected"}],j={pending:"bg-gray-500/20 text-gray-300",applied:"bg-blue-500/20 text-blue-300",followup_scheduled:"bg-yellow-500/20 text-yellow-300",interview_scheduled:"bg-purple-500/20 text-purple-300",offer_received:"bg-green-500/20 text-green-300",rejected:"bg-red-500/20 text-red-300",withdrawn:"bg-gray-500/20 text-gray-300",no_response_closed:"bg-gray-500/20 text-gray-300"},L={pending:"ðŸ“‹ Pending",applied:"âœ… Applied",followup_scheduled:"ðŸ“… Follow-up",interview_scheduled:"ðŸŽ¤ Interview",offer_received:"ðŸŽ‰ Offer",rejected:"âŒ Rejected",withdrawn:"ðŸš« Withdrawn",no_response_closed:"â° No Response"},_=v(()=>r.value==="all"?a.applications:a.applications.filter(l=>l.status===r.value)),c=v(()=>{const l=a.applications;return{total:l.length,active:l.filter(e=>["pending","applied","followup_scheduled","interview_scheduled"].includes(e.status)).length,interviews:l.filter(e=>e.status==="interview_scheduled").length,offers:l.filter(e=>e.status==="offer_received").length}});V(()=>{a.fetchApplications()});function N(l){g.push(`/jobs/${l}`)}function S(){g.push("/dashboard")}return(l,e)=>{var m;const p=P("router-link");return i(),n("div",T,[t("header",$,[t("div",E,[t("div",J,[t("div",z,[e[4]||(e[4]=t("div",{class:"flex items-center"},[t("img",{src:B,alt:"Q",class:"w-8 h-8 -mr-0.5"}),t("h1",{class:"text-xl font-bold text-atlas-400"},"uickPRO")],-1)),t("nav",M,[u(p,{to:"/dashboard",class:"px-3 py-2 rounded-lg text-sm font-medium text-night-400 hover:text-night-100 hover:bg-night-800/50"},{default:x(()=>[...e[0]||(e[0]=[d(" Dashboard ",-1)])]),_:1}),u(p,{to:"/applications",class:"px-3 py-2 rounded-lg text-sm font-medium text-night-100 bg-night-800"},{default:x(()=>[...e[1]||(e[1]=[d(" Applications ",-1)])]),_:1}),u(p,{to:"/profile",class:"px-3 py-2 rounded-lg text-sm font-medium text-night-400 hover:text-night-100 hover:bg-night-800/50"},{default:x(()=>[...e[2]||(e[2]=[d(" Profile ",-1)])]),_:1}),u(p,{to:"/extension",class:"px-3 py-2 rounded-lg text-sm font-medium text-night-400 hover:text-night-100 hover:bg-night-800/50"},{default:x(()=>[...e[3]||(e[3]=[d(" Extension ",-1)])]),_:1})])]),t("div",Q,[t("span",W,o((m=f(h).user)==null?void 0:m.email),1),t("button",{onClick:A,class:"btn btn-ghost text-sm"}," Logout ")])])])]),t("main",q,[t("div",G,[t("div",H,[t("p",K,o(c.value.total),1),e[5]||(e[5]=t("p",{class:"text-sm text-night-400"},"Total Applications",-1))]),t("div",U,[t("p",X,o(c.value.active),1),e[6]||(e[6]=t("p",{class:"text-sm text-night-400"},"Active",-1))]),t("div",Y,[t("p",Z,o(c.value.interviews),1),e[7]||(e[7]=t("p",{class:"text-sm text-night-400"},"Interviews",-1))]),t("div",tt,[t("p",et,o(c.value.offers),1),e[8]||(e[8]=t("p",{class:"text-sm text-night-400"},"Offers",-1))])]),t("div",st,[(i(),n(b,null,w(C,s=>t("button",{key:s.value,onClick:D=>r.value=s.value,class:y(["px-4 py-2 rounded-lg text-sm whitespace-nowrap transition-colors",r.value===s.value?"bg-atlas-600 text-white":"bg-night-800 text-night-300 hover:bg-night-700"])},o(s.label),11,ot)),64))]),f(a).loading?(i(),n("div",lt,[...e[9]||(e[9]=[t("p",{class:"text-night-400"},"Loading applications...",-1)])])):_.value.length===0?(i(),n("div",nt,[t("p",it,o(r.value==="all"?"No applications yet":"No applications with this status"),1),t("button",{onClick:S,class:"btn btn-primary"}," Browse Jobs ")])):(i(),n("div",at,[(i(!0),n(b,null,w(_.value,s=>(i(),n("div",{key:s.id,onClick:D=>N(s.job_posting_id),class:"card hover:border-atlas-600/50 transition-colors cursor-pointer"},[t("div",dt,[t("div",ct,[t("div",pt,[t("span",{class:y(["px-2 py-1 rounded text-xs font-medium",j[s.status]])},o(L[s.status]),3)]),t("p",ut,[d(" Created "+o(new Date(s.created_at).toLocaleDateString())+" ",1),s.applied_at?(i(),n("span",xt," â€¢ Applied "+o(new Date(s.applied_at).toLocaleDateString()),1)):k("",!0)]),s.notes?(i(),n("p",gt,o(s.notes),1)):k("",!0)]),e[10]||(e[10]=t("span",{class:"text-night-500"},"â†’",-1))])],8,rt))),128))]))])])}}};export{ft as default};
