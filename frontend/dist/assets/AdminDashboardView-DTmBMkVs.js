import{_ as w}from"./quickpro-icon-BEYmoaV4.js";import{u as k,r as p,x as A,m as S,c as l,a as t,h as n,i as d,j as V,t as o,f as v,d as h,p as b,s as C,o as r,g as c}from"./index-CIB9YAYq.js";const D={class:"min-h-screen bg-night-950"},E={class:"bg-night-900/50 border-b border-night-800"},j={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},L={class:"flex items-center justify-between h-16"},N={class:"flex items-center gap-4"},B={class:"hidden md:flex items-center gap-1"},O={class:"flex items-center gap-4"},P={class:"text-sm text-night-400"},q={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},H={key:0,class:"card bg-red-900/20 border-red-800"},Q={key:1,class:"card"},R={key:2,class:"card bg-red-900/20 border-red-800"},T={class:"text-red-400"},U={key:3},z={class:"mb-8"},F={class:"text-2xl font-bold mb-4"},I={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},J={class:"card"},M={class:"text-3xl font-bold text-atlas-400"},Y={class:"text-xs text-night-500 mt-1"},G={class:"card"},K={class:"text-3xl font-bold text-green-400"},W={class:"text-xs text-night-500 mt-1"},X={class:"card"},Z={class:"text-3xl font-bold text-blue-400"},$={class:"text-xs text-night-500 mt-1"},tt={class:"card"},st={class:"text-3xl font-bold text-purple-400"},et={class:"text-xs text-night-500 mt-1"},ot={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},it={class:"card"},at={class:"text-2xl font-bold"},lt={class:"text-xs text-night-500 mt-1"},nt={class:"text-xs text-red-400 mt-1"},dt={key:0,class:"text-xs text-red-400 mt-1"},rt={class:"card"},ct={class:"text-xs text-night-500 mt-1"},xt={class:"card"},ut={class:"flex flex-wrap gap-3"},gt={__name:"AdminDashboardView",setup(mt){const x=k(),m=p(!0),e=p(null),u=p(null),g=A(()=>{var a;return((a=x.user)==null?void 0:a.is_admin)===!0});async function f(){var a,s;m.value=!0,u.value=null;try{const i=await C.get("/api/v1/admin/stats/overview",{params:{days:30}});e.value=i.data}catch(i){u.value=((s=(a=i.response)==null?void 0:a.data)==null?void 0:s.detail)||"Failed to load stats"}finally{m.value=!1}}return S(()=>{g.value&&f()}),(a,s)=>{var _;const i=V("router-link");return r(),l("div",D,[t("header",E,[t("div",j,[t("div",L,[t("div",N,[s[5]||(s[5]=t("div",{class:"flex items-center"},[t("img",{src:w,alt:"Q",class:"w-8 h-8 -mr-0.5"}),t("h1",{class:"text-xl font-bold text-atlas-400"},"uickPRO Admin")],-1)),t("nav",B,[n(i,{to:"/admin",class:"px-3 py-2 rounded-lg text-sm font-medium text-night-100 bg-night-800"},{default:d(()=>[...s[1]||(s[1]=[c(" Overview ",-1)])]),_:1}),n(i,{to:"/admin/analytics",class:"px-3 py-2 rounded-lg text-sm font-medium text-night-400 hover:text-night-100 hover:bg-night-800/50"},{default:d(()=>[...s[2]||(s[2]=[c(" Analytics ",-1)])]),_:1}),n(i,{to:"/admin/security",class:"px-3 py-2 rounded-lg text-sm font-medium text-night-400 hover:text-night-100 hover:bg-night-800/50"},{default:d(()=>[...s[3]||(s[3]=[c(" Security ",-1)])]),_:1}),n(i,{to:"/dashboard",class:"px-3 py-2 rounded-lg text-sm font-medium text-night-400 hover:text-night-100 hover:bg-night-800/50"},{default:d(()=>[...s[4]||(s[4]=[c(" User Dashboard ",-1)])]),_:1})])]),t("div",O,[t("span",P,o((_=v(x).user)==null?void 0:_.email),1),t("button",{onClick:s[0]||(s[0]=(...y)=>v(x).logout&&v(x).logout(...y)),class:"btn btn-ghost text-sm"}," Logout ")])])])]),t("main",q,[g.value?m.value?(r(),l("div",Q,[...s[7]||(s[7]=[t("p",{class:"text-night-400"},"Loading statistics...",-1)])])):u.value?(r(),l("div",R,[t("p",T,o(u.value),1)])):e.value?(r(),l("div",U,[t("div",z,[t("h2",F,"Overview (Last "+o(e.value.period_days)+" Days)",1),t("div",I,[t("div",J,[s[8]||(s[8]=t("p",{class:"text-sm text-night-400 mb-1"},"Total Users",-1)),t("p",M,o(e.value.users.total),1),t("p",Y,o(e.value.users.new)+" new",1)]),t("div",G,[s[9]||(s[9]=t("p",{class:"text-sm text-night-400 mb-1"},"Job Postings",-1)),t("p",K,o(e.value.jobs.total),1),t("p",W,o(e.value.jobs.recent)+" recent",1)]),t("div",X,[s[10]||(s[10]=t("p",{class:"text-sm text-night-400 mb-1"},"Applications",-1)),t("p",Z,o(e.value.applications.total),1),t("p",$,o(e.value.applications.recent)+" recent",1)]),t("div",tt,[s[11]||(s[11]=t("p",{class:"text-sm text-night-400 mb-1"},"Site Visits",-1)),t("p",st,o(e.value.traffic.total_visits),1),t("p",et,o(e.value.traffic.unique_visitors)+" unique",1)])]),t("div",ot,[t("div",it,[s[12]||(s[12]=t("p",{class:"text-sm text-night-400 mb-1"},"API Calls",-1)),t("p",at,o(e.value.api.total_calls.toLocaleString()),1),t("p",lt," Avg: "+o(e.value.api.avg_response_time_ms)+"ms ",1),t("p",nt," Error Rate: "+o(e.value.api.error_rate_percent)+"% ",1)]),t("div",{class:b(["card",e.value.security.critical_events>0?"bg-red-900/20 border-red-800":""])},[s[13]||(s[13]=t("p",{class:"text-sm text-night-400 mb-1"},"Security Events",-1)),t("p",{class:b(["text-2xl font-bold",e.value.security.critical_events>0?"text-red-400":"text-yellow-400"])},o(e.value.security.unresolved_events),3),e.value.security.critical_events>0?(r(),l("p",dt,o(e.value.security.critical_events)+" critical ",1)):h("",!0)],2),t("div",rt,[s[14]||(s[14]=t("p",{class:"text-sm text-night-400 mb-1"},"System Health",-1)),s[15]||(s[15]=t("p",{class:"text-2xl font-bold text-green-400"},"Healthy",-1)),t("p",ct," Error rate: "+o(e.value.api.error_rate_percent)+"% ",1)])])]),t("div",xt,[s[18]||(s[18]=t("h3",{class:"text-lg font-semibold mb-4"},"Quick Actions",-1)),t("div",ut,[n(i,{to:"/admin/analytics",class:"btn btn-primary"},{default:d(()=>[...s[16]||(s[16]=[c(" View Analytics ",-1)])]),_:1}),n(i,{to:"/admin/security",class:"btn btn-secondary"},{default:d(()=>[...s[17]||(s[17]=[c(" Security Events ",-1)])]),_:1})])])])):h("",!0):(r(),l("div",H,[...s[6]||(s[6]=[t("h2",{class:"text-xl font-bold text-red-400 mb-2"},"Access Denied",-1),t("p",{class:"text-night-300"},"You do not have admin privileges.",-1)])]))])])}}};export{gt as default};
