<button class="atlas-btn atlas-btn--@Variant atlas-btn--@Size @(Loading ? "atlas-btn--loading" : "") @(Disabled ? "atlas-btn--disabled" : "")"
        disabled="@(Disabled || Loading)"
        @onclick="HandleClick"
        @attributes="AdditionalAttributes">
    @if (Icon is not null)
    {
        <span class="atlas-btn__icon">@Icon</span>
    }
    <span class="atlas-btn__content">@ChildContent</span>
</button>

@code {
    [Parameter] public string Variant { get; set; } = "primary";
    [Parameter] public string Size { get; set; } = "md";
    [Parameter] public bool Disabled { get; set; }
    [Parameter] public bool Loading { get; set; }
    [Parameter] public EventCallback<MouseEventArgs> OnClick { get; set; }
    [Parameter] public RenderFragment? Icon { get; set; }
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter(CaptureUnmatchedValues = true)]
    public Dictionary<string, object>? AdditionalAttributes { get; set; }

    private async Task HandleClick(MouseEventArgs e)
    {
        if (!Disabled && !Loading)
        {
            await OnClick.InvokeAsync(e);
        }
    }
}
